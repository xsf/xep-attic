<?xml version="1.0"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title>XEP-0133: Service Administration</title><link rel="stylesheet" type="text/css" href="xmpp.css" /><link href="prettify.css" type="text/css" rel="stylesheet" /><link rel="shortcut icon" type="image/x-icon" href="/favicon.ico" /><script type="text/javascript" src="prettify.js"></script><meta name="viewport" content="width=device-width; initial-scale=1.0; maximum-scale=2.0" /><meta name="DC.Title" content="Service Administration" /><meta name="DC.Creator" content="Peter Saint-Andre" /><meta name="DC.Description" content="This document defines recommended best practices for service-level administration of servers and components using Ad-Hoc Commands." /><meta name="DC.Publisher" content="XMPP Standards Foundation" /><meta name="DC.Contributor" content="XMPP Extensions Editor" /><meta name="DC.Date" content="2017-07-15" /><meta name="DC.Type" content="XMPP Extension Protocol" /><meta name="DC.Format" content="XHTML" /><meta name="DC.Identifier" content="XEP-0133" /><meta name="DC.Language" content="en" /><meta name="DC.Rights" content="This XMPP Extension Protocol is copyright &#xA9; 1999 &#x2013; 2017 by the XMPP Standards Foundation (XSF)." /></head><body onload="prettyPrint()"><h1>XEP-0133: Service Administration</h1><table><tr valign="top"><td><strong>Abstract:</strong></td><td>This document defines recommended best practices for service-level administration of servers and components using Ad-Hoc Commands.</td></tr><tr valign="top"><td><strong>Author:</strong></td><td>Peter Saint-Andre</td></tr><tr valign="top"><td><strong>Copyright:</strong></td><td>© 1999 – 2017 XMPP Standards Foundation. <a href="#appendix-legal">SEE LEGAL NOTICES</a>.</td></tr><tr valign="top"><td><strong>Status:</strong></td><td>Active</td></tr><tr valign="top"><td><strong>Type:</strong></td><td>Informational</td></tr><tr valign="top"><td><strong>Version:</strong></td><td>1.2</td></tr><tr valign="top"><td><strong>Last Updated:</strong></td><td>2017-07-15</td></tr></table><hr /><p style="color:green">NOTICE: This Informational specification defines a best practice or protocol profile that has been approved by the XMPP Council and/or the XSF Board of Directors. Implementations are encouraged and the best practice or protocol profile is appropriate for deployment in production systems.</p><hr /><h2>Table of Contents</h2><div class="indent"><p><br />1.  <a href="#intro">Introduction</a><br />2.  <a href="#reqs">Requirements</a><br />3.  <a href="#disco">Discovery</a><br />4.  <a href="#usecases">Use Cases</a><br />   
      4.1.  <a href="#add-user">Add User</a><br />   
      4.2.  <a href="#delete-user">Delete User</a><br />   
      4.3.  <a href="#disable-user">Disable User</a><br />   
      4.4.  <a href="#reenable-user">Re-Enable User</a><br />   
      4.5.  <a href="#end-user-session">End User Session</a><br />   
      4.6.  <a href="#get-user-password">Get User Password</a><br />   
      4.7.  <a href="#change-user-password">Change User Password</a><br />   
      4.8.  <a href="#get-user-roster">Get User Roster</a><br />   
      4.9.  <a href="#get-user-lastlogin">Get User Last Login Time</a><br />   
      4.10.  <a href="#get-user-stats">Get User Statistics</a><br />   
      4.11.  <a href="#edit-blacklist">Edit Blacklist</a><br />   
      4.12.  <a href="#edit-whitelist">Edit Whitelist</a><br />   
      4.13.  <a href="#get-registered-users-num">Get Number of Registered Users</a><br />   
      4.14.  <a href="#get-disabled-users-num">Get Number of Disabled Users</a><br />   
      4.15.  <a href="#get-online-users-num">Get Number of Online Users</a><br />   
      4.16.  <a href="#get-active-users-num">Get Number of Active Users</a><br />   
      4.17.  <a href="#get-idle-users-num">Get Number of Idle Users</a><br />   
      4.18.  <a href="#get-registered-users-list">Get List of Registered Users</a><br />   
      4.19.  <a href="#get-disabled-users-list">Get List of Disabled Users</a><br />   
      4.20.  <a href="#get-online-users-list">Get List of Online Users</a><br />   
      4.21.  <a href="#get-active-users-list">Get List of Active Users</a><br />   
      4.22.  <a href="#get-idle-users-list">Get List of Idle Users</a><br />   
      4.23.  <a href="#announce">Send Announcement to Online Users</a><br />   
      4.24.  <a href="#set-motd">Set Message of the Day</a><br />   
      4.25.  <a href="#edit-motd">Edit Message of the Day</a><br />   
      4.26.  <a href="#delete-motd">Delete Message of the Day</a><br />   
      4.27.  <a href="#set-welcome">Set Welcome Message</a><br />   
      4.28.  <a href="#delete-welcome">Delete Welcome Message</a><br />   
      4.29.  <a href="#edit-admin">Edit Admin List</a><br />   
      4.30.  <a href="#restart">Restart Service</a><br />   
      4.31.  <a href="#shutdown">Shut Down Service</a><br />5.  <a href="#errors">Error Handling</a><br />6.  <a href="#security">Security Considerations</a><br />7.  <a href="#iana">IANA Considerations</a><br />8.  <a href="#registrar">XMPP Registrar Considerations</a><br />   
      8.1.  <a href="#registrar-protocol">Protocol Namespaces</a><br />   
      8.2.  <a href="#registrar-formtype">Field Standardization</a><br />9.  <a href="#sect-idm528">XML Schema</a></p><p><a href="#appendices">Appendices</a><br />    <a href="#appendix-docinfo">A: Document Information</a><br />    <a href="#appendix-authorinfo">B: Author Information</a><br />    <a href="#appendix-legal">C: Legal Notices</a><br />    <a href="#appendix-xmpp">D: Relation to XMPP</a><br />    <a href="#appendix-discuss">E: Discussion Venue</a><br />    <a href="#appendix-conformance">F: Requirements Conformance</a><br />    <a href="#appendix-notes">G: Notes</a><br />    <a href="#appendix-revs">H: Revision History</a></p></div><hr /><h2>1.
       <a name="intro" id="intro">Introduction</a></h2>
  <p class="" style="">There exists a set of common service-level tasks that administrators often need to perform in relation to Jabber/XMPP servers and components. Examples include creating users, disabling accounts, and blacklisting domains for inbound or outbound communications. Because such tasks can be performed with respect to a server or with respect to many kinds of add-on components (e.g., a text conferencing component that conforms to <span class="ref" style=""><a href="https://xmpp.org/extensions/xep-0045.html">Multi-User Chat (XEP-0045)</a></span>  [<a href="#nt-idm88">1</a>]), it makes sense to define a generic protocol for such interactions. This document describes such a protocol by specifying a profile of <span class="ref" style=""><a href="https://xmpp.org/extensions/xep-0050.html">Ad-Hoc Commands (XEP-0050)</a></span>  [<a href="#nt-idm92">2</a>] and associated <span class="ref" style=""><a href="https://xmpp.org/extensions/xep-0004.html">Data Forms (XEP-0004)</a></span>  [<a href="#nt-idm96">3</a>] fields, rather than by defining a specialized and distinct protocol.</p>
<h2>2.
       <a name="reqs" id="reqs">Requirements</a></h2>
  <p class="" style="">This document addresses the following requirements:</p>
  <ul class="" style="">
    <li class="" style="">Enable users with appropriate privileges to perform common administrative tasks with respect to Jabber/XMPP servers and components.</li>
    <li class="" style="">Re-use existing XMPP and Jabber protocols wherever possible.</li>
  </ul>
<h2>3.
       <a name="disco" id="disco">Discovery</a></h2>
  <p class="" style="">A server or component MUST advertise any administrative commands it supports via <span class="ref" style=""><a href="https://xmpp.org/extensions/xep-0030.html">Service Discovery (XEP-0030)</a></span>  [<a href="#nt-idm107">4</a>] (as described in <span class="ref">XEP-0050: Ad-Hoc Commands</span>); such commands exist as well-defined discovery nodes associated with the service in question.</p>
  <p class="" style="">In order to interact with a particular component attached to a server, an administrator needs to first discover that component and the commands it support, then send the appropriate command to the component itself. A server SHOULD NOT process commands on behalf of associated components, just as it does not handle service discovery requests on behalf of such components.</p>
<h2>4.
       <a name="usecases" id="usecases">Use Cases</a></h2>
  <p class="" style="">This document defines a profile of <span class="ref">XEP-0050: Ad-Hoc Commands</span> that enables a service-level administrator to complete the following use cases:</p>
  <ol start="" class="" style="">
    <li class="" style="">Add User</li>
    <li class="" style="">Delete User</li>
    <li class="" style="">Disable User</li>
    <li class="" style="">Re-Enable User</li>
    <li class="" style="">End User Session</li>
    <li class="" style="">Get User Password</li>
    <li class="" style="">Change User Password</li>
    <li class="" style="">Get User Roster</li>
    <li class="" style="">Get User Last Login Time</li>
    <li class="" style="">Get User Statistics</li>
    <li class="" style="">Edit Blacklist</li>
    <li class="" style="">Edit Whitelist</li>
    <li class="" style="">Get Number of Registered Users</li>
    <li class="" style="">Get Number of Disabled Users</li>
    <li class="" style="">Get Number of Online Users</li>
    <li class="" style="">Get Number of Active Users</li>
    <li class="" style="">Get Number of Idle Users</li>
    <li class="" style="">Get List of Registered Users</li>
    <li class="" style="">Get List of Disabled Users</li>
    <li class="" style="">Get List of Online Users</li>
    <li class="" style="">Get List of Active Users</li>
    <li class="" style="">Get List of Idle Users</li>
    <li class="" style="">Send Announcement to Active Users</li>
    <li class="" style="">Set Message of the Day</li>
    <li class="" style="">Edit Message of the Day</li>
    <li class="" style="">Delete Message of the Day</li>
    <li class="" style="">Set Welcome Message</li>
    <li class="" style="">Delete Welcome Message</li>
    <li class="" style="">Edit Admin List</li>
    <li class="" style="">Restart Service</li>
    <li class="" style="">Shut Down Service</li>
  </ol>
  <p class="" style="">Naturally, not all of these use cases apply to all service types (e.g., adding a user may not apply to a multi-user chat service). An implementation or deployment MAY support any subset of the use cases defined herein. In addition, although this document aims to define common use cases, an implementation or deployment MAY support additional commands not defined herein, which may or may not be publicly registered.</p>
  <p class="" style=""><span class="em">Note:</span> The text that follows assumes that implementors have read and understood <span class="ref">XEP-0050: Ad-Hoc Commands</span> and <span class="ref">XEP-0004: Data Forms</span>.</p>
  <div class="indent"><h3>4.1 <a name="add-user" id="add-user">Add User</a></h3>
    <p class="" style="">A user is defined as any entity that has a persistent relationship with a service (most commonly through the creation a registered account with the service) and whose account is in some sense hosted by the service. Adding a user MUST result in the creation of an account, along with any implementation-specific data for such an account (e.g., database entries or a roster file). The command node for this use case SHOULD be "http://jabber.org/protocol/admin#add-user".</p>
    <p class="" style="">A sample protocol flow for this use case is shown below.</p>
    <p class="caption"><a name="example-1" id="example-1"></a>Example 1. Admin Requests to Add a User</p><div class="indent"><pre class="prettyprint">
&lt;iq from='bard@shakespeare.lit/globe'
    id='add-user-1'
    to='shakespeare.lit'
    type='set'
    xml:lang='en'&gt;
  &lt;command xmlns='http://jabber.org/protocol/commands'
           action='execute'
           node='http://jabber.org/protocol/admin#add-user'/&gt;
&lt;/iq&gt;
</pre></div>
    <p class="" style="">Unless an error occurs (see the <a href="#errors">Error Handling</a> section below), the service SHOULD return the appropriate form.</p>
    <p class="caption"><a name="example-2" id="example-2"></a>Example 2. Service Returns Add User Form to Admin</p><div class="indent"><pre class="prettyprint">
&lt;iq from='shakespeare.lit'
    id='add-user-1'
    to='bard@shakespeare.lit/globe'
    type='result'
    xml:lang='en'&gt;
  &lt;command xmlns='http://jabber.org/protocol/commands'
           node='http://jabber.org/protocol/admin#add-user'
           sessionid='add-user:20040408T0337Z'
           status='executing'&gt;
    &lt;x xmlns='jabber:x:data' type='form'&gt;
      &lt;title&gt;Adding a User&lt;/title&gt;
      &lt;instructions&gt;Fill out this form to add a user.&lt;/instructions&gt;
      &lt;field type='hidden' var='FORM_TYPE'&gt;
        &lt;value&gt;http://jabber.org/protocol/admin&lt;/value&gt;
      &lt;/field&gt;
      &lt;field label='The Jabber ID for the account to be added'
             type='jid-single'
             var='accountjid'&gt;
        &lt;required/&gt;
      &lt;/field&gt;
      &lt;field label='The password for this account'
             type='text-private'
             var='password'/&gt;
      &lt;field label='Retype password'
             type='text-private'
             var='password-verify'/&gt;
      &lt;field label='Email address'
             type='text-single'
             var='email'/&gt;
      &lt;field label='Given name'
             type='text-single'
             var='given_name'/&gt;
      &lt;field label='Family name'
             type='text-single'
             var='surname'/&gt;
    &lt;/x&gt;
  &lt;/command&gt;
&lt;/iq&gt;
</pre></div>
    <p class="caption"><a name="example-3" id="example-3"></a>Example 3. Admin Submits Add User Form to Service</p><div class="indent"><pre class="prettyprint">
&lt;iq from='bard@shakespeare.lit/globe'
    id='add-user-2'
    to='shakespeare.lit'
    type='set'
    xml:lang='en'&gt;
  &lt;command xmlns='http://jabber.org/protocol/commands'
           node='http://jabber.org/protocol/admin#add-user'
           sessionid='add-user:20040408T0337Z'&gt;
    &lt;x xmlns='jabber:x:data' type='submit'&gt;
      &lt;field type='hidden' var='FORM_TYPE'&gt;
        &lt;value&gt;http://jabber.org/protocol/admin&lt;/value&gt;
      &lt;/field&gt;
      &lt;field var='accountjid'&gt;
        &lt;value&gt;juliet@shakespeare.lit&lt;/value&gt;
      &lt;/field&gt;
      &lt;field var='password'&gt;
        &lt;value&gt;R0m30&lt;/value&gt;
      &lt;/field&gt;
      &lt;field var='password-verify'&gt;
        &lt;value&gt;R0m30&lt;/value&gt;
      &lt;/field&gt;
      &lt;field var='email'&gt;
        &lt;value&gt;juliet@capulet.com&lt;/value&gt;
      &lt;/field&gt;
      &lt;field var='given_name'&gt;
        &lt;value&gt;Juliet&lt;/value&gt;
      &lt;/field&gt;
      &lt;field var='surname'&gt;
        &lt;value&gt;Capulet&lt;/value&gt;
      &lt;/field&gt;
    &lt;/x&gt;
  &lt;/command&gt;
&lt;/iq&gt;
</pre></div>
    <p class="caption"><a name="example-4" id="example-4"></a>Example 4. Service Informs Admin of Completion</p><div class="indent"><pre class="prettyprint">
&lt;iq from='shakespeare.lit'
    id='add-user-2'
    to='bard@shakespeare.lit/globe'
    type='result'
    xml:lang='en'&gt;
  &lt;command xmlns='http://jabber.org/protocol/commands'
           node='http://jabber.org/protocol/admin#add-user'
           sessionid='add-user:20040408T0337Z'
           status='completed'/&gt;
&lt;/iq&gt;
</pre></div>
    <p class="" style="">Notification of completion MAY include the processed data in a data form of type "result".</p>
  </div>
  <div class="indent"><h3>4.2 <a name="delete-user" id="delete-user">Delete User</a></h3>
    <p class="" style="">An administrator may need to permanently delete a user account. Deleting a user SHOULD result in the termination of any active sessions for the user and in the destruction of any implementation-specific data for the account (e.g., database entries or a roster file). The command node for this use case SHOULD be "http://jabber.org/protocol/admin#delete-user".</p>
    <p class="" style="">A sample protocol flow for this use case is shown below.</p>
    <p class="caption"><a name="example-5" id="example-5"></a>Example 5. Admin Requests to Delete a User</p><div class="indent"><pre class="prettyprint">
&lt;iq from='bard@shakespeare.lit/globe'
    id='delete-user-1'
    to='shakespeare.lit'
    type='set'
    xml:lang='en'&gt;
  &lt;command xmlns='http://jabber.org/protocol/commands'
           action='execute'
           node='http://jabber.org/protocol/admin#delete-user'/&gt;
&lt;/iq&gt;
</pre></div>
    <p class="" style="">Unless an error occurs (see the <a href="#errors">Error Handling</a> section below), the service SHOULD return the appropriate form.</p>
    <p class="caption"><a name="example-6" id="example-6"></a>Example 6. Service Returns Delete User Form to Admin</p><div class="indent"><pre class="prettyprint">
&lt;iq from='shakespeare.lit'
    id='delete-user-1'
    to='bard@shakespeare.lit/globe'
    type='result'
    xml:lang='en'&gt;
  &lt;command xmlns='http://jabber.org/protocol/commands'
           node='http://jabber.org/protocol/admin#delete-user'
           sessionid='delete-user:20040408T0337Z'
           status='executing'&gt;
    &lt;x xmlns='jabber:x:data' type='form'&gt;
      &lt;title&gt;Deleting a User&lt;/title&gt;
      &lt;instructions&gt;Fill out this form to delete a user.&lt;/instructions&gt;
      &lt;field type='hidden' var='FORM_TYPE'&gt;
        &lt;value&gt;http://jabber.org/protocol/admin&lt;/value&gt;
      &lt;/field&gt;
      &lt;field label='The Jabber ID(s) to delete'
             type='jid-multi'
             var='accountjids'&gt;
        &lt;required/&gt;
      &lt;/field&gt;
    &lt;/x&gt;
  &lt;/command&gt;
&lt;/iq&gt;
</pre></div>
    <p class="" style="">Note: If the entity is an end user, the JID SHOULD be of the form &lt;user@host&gt;, not &lt;user@host/resource&gt;.</p>
    <p class="caption"><a name="example-7" id="example-7"></a>Example 7. Admin Submits Delete User Form to Service</p><div class="indent"><pre class="prettyprint">
&lt;iq from='bard@shakespeare.lit/globe'
    id='delete-user-2'
    to='shakespeare.lit'
    type='set'
    xml:lang='en'&gt;
  &lt;command xmlns='http://jabber.org/protocol/commands'
           node='http://jabber.org/protocol/admin#delete-user'
           sessionid='delete-user:20040408T0337Z'&gt;
    &lt;x xmlns='jabber:x:data' type='submit'&gt;
      &lt;field type='hidden' var='FORM_TYPE'&gt;
        &lt;value&gt;http://jabber.org/protocol/admin&lt;/value&gt;
      &lt;/field&gt;
      &lt;field var='accountjids'&gt;
        &lt;value&gt;juliet@shakespeare.lit&lt;/value&gt;
      &lt;/field&gt;
    &lt;/x&gt;
  &lt;/command&gt;
&lt;/iq&gt;
</pre></div>
    <p class="caption"><a name="example-8" id="example-8"></a>Example 8. Service Informs Admin of Completion</p><div class="indent"><pre class="prettyprint">
&lt;iq from='shakespeare.lit'
    id='delete-user-2'
    to='bard@shakespeare.lit/globe'
    type='result'
    xml:lang='en'&gt;
  &lt;command xmlns='http://jabber.org/protocol/commands'
           node='http://jabber.org/protocol/admin#delete-user'
           sessionid='delete-user:20040408T0337Z'
           status='completed'/&gt;
&lt;/iq&gt;
</pre></div>
  </div>
  <div class="indent"><h3>4.3 <a name="disable-user" id="disable-user">Disable User</a></h3>
    <p class="" style="">An administrator may need to temporarily disable a user account. Disabling a user MUST result in the termination of any active sessions for the user and in the prevention of further user logins until the account is re-enabled (this can be thought of as "banning" the user). However, it MUST NOT result in the destruction of any implementation-specific data for the account (e.g., database entries or a roster file). The command node for this use case SHOULD be "http://jabber.org/protocol/admin#disable-user".</p>
    <p class="" style="">A sample protocol flow for this use case is shown below.</p>
    <p class="caption"><a name="example-9" id="example-9"></a>Example 9. Admin Requests to Disable a User</p><div class="indent"><pre class="prettyprint">
&lt;iq from='bard@shakespeare.lit/globe'
    id='disable-user-1'
    to='shakespeare.lit'
    type='set'
    xml:lang='en'&gt;
  &lt;command xmlns='http://jabber.org/protocol/commands'
           action='execute'
           node='http://jabber.org/protocol/admin#disable-user'/&gt;
&lt;/iq&gt;
</pre></div>
    <p class="" style="">Unless an error occurs (see the <a href="#errors">Error Handling</a> section below), the service SHOULD return the appropriate form.</p>
    <p class="caption"><a name="example-10" id="example-10"></a>Example 10. Service Returns Disable User Form to Admin</p><div class="indent"><pre class="prettyprint">
&lt;iq from='shakespeare.lit'
    id='disable-user-1'
    to='bard@shakespeare.lit/globe'
    type='result'
    xml:lang='en'&gt;
  &lt;command xmlns='http://jabber.org/protocol/commands'
           node='http://jabber.org/protocol/admin#disable-user'
           sessionid='disable-user:20040408T0337Z'
           status='executing'&gt;
    &lt;x xmlns='jabber:x:data' type='form'&gt;
      &lt;title&gt;Disabling a User&lt;/title&gt;
      &lt;instructions&gt;Fill out this form to disable a user.&lt;/instructions&gt;
      &lt;field type='hidden' var='FORM_TYPE'&gt;
        &lt;value&gt;http://jabber.org/protocol/admin&lt;/value&gt;
      &lt;/field&gt;
      &lt;field label='The Jabber ID(s) to disable'
             type='jid-multi'
             var='accountjids'&gt;
        &lt;required/&gt;
      &lt;/field&gt;
    &lt;/x&gt;
  &lt;/command&gt;
&lt;/iq&gt;
</pre></div>
    <p class="" style="">Note: If the entity is an end user, the JID SHOULD be of the form &lt;user@host&gt;, not &lt;user@host/resource&gt;.</p>
    <p class="caption"><a name="example-11" id="example-11"></a>Example 11. Admin Submits Disable User Form to Service</p><div class="indent"><pre class="prettyprint">
&lt;iq from='bard@shakespeare.lit/globe'
    id='disable-user-2'
    to='shakespeare.lit'
    type='set'
    xml:lang='en'&gt;
  &lt;command xmlns='http://jabber.org/protocol/commands'
           node='http://jabber.org/protocol/admin#disable-user'
           sessionid='disable-user:20040408T0337Z'&gt;
    &lt;x xmlns='jabber:x:data' type='submit'&gt;
      &lt;field type='hidden' var='FORM_TYPE'&gt;
        &lt;value&gt;http://jabber.org/protocol/admin&lt;/value&gt;
      &lt;/field&gt;
      &lt;field var='accountjids'&gt;
        &lt;value&gt;juliet@shakespeare.lit&lt;/value&gt;
      &lt;/field&gt;
    &lt;/x&gt;
  &lt;/command&gt;
&lt;/iq&gt;
</pre></div>
    <p class="caption"><a name="example-12" id="example-12"></a>Example 12. Service Informs Admin of Completion</p><div class="indent"><pre class="prettyprint">
&lt;iq from='shakespeare.lit'
    id='disable-user-2'
    to='bard@shakespeare.lit/globe'
    type='result'
    xml:lang='en'&gt;
  &lt;command xmlns='http://jabber.org/protocol/commands'
           node='http://jabber.org/protocol/admin#disable-user'
           sessionid='disable-user:20040408T0337Z'
           status='completed'/&gt;
&lt;/iq&gt;
</pre></div>
  </div>
  <div class="indent"><h3>4.4 <a name="reenable-user" id="reenable-user">Re-Enable User</a></h3>
    <p class="" style="">An administrator may need to re-enable a user account that had been temporarily disabled. Re-enabling a user MUST result in granting the user the ability to access the service again. The command node for this use case SHOULD be "http://jabber.org/protocol/admin#reenable-user".</p>
    <p class="" style="">A sample protocol flow for this use case is shown below.</p>
    <p class="caption"><a name="example-13" id="example-13"></a>Example 13. Admin Requests to Re-Enable a User</p><div class="indent"><pre class="prettyprint">
&lt;iq from='bard@shakespeare.lit/globe'
    id='reenable-user-1'
    to='shakespeare.lit'
    type='set'
    xml:lang='en'&gt;
  &lt;command xmlns='http://jabber.org/protocol/commands'
           action='execute'
           node='http://jabber.org/protocol/admin#reenable-user'/&gt;
&lt;/iq&gt;
</pre></div>
    <p class="" style="">Unless an error occurs (see the <a href="#errors">Error Handling</a> section below), the service SHOULD return the appropriate form.</p>
    <p class="caption"><a name="example-14" id="example-14"></a>Example 14. Service Returns Re-Enable User Form to Admin</p><div class="indent"><pre class="prettyprint">
&lt;iq from='shakespeare.lit'
    id='reenable-user-1'
    to='bard@shakespeare.lit/globe'
    type='result'
    xml:lang='en'&gt;
  &lt;command xmlns='http://jabber.org/protocol/commands'
           node='http://jabber.org/protocol/admin#reenable-user'
           sessionid='reenable-user:20040408T0337Z'
           status='executing'&gt;
    &lt;x xmlns='jabber:x:data' type='form'&gt;
      &lt;title&gt;Re-Enable a User&lt;/title&gt;
      &lt;instructions&gt;Fill out this form to re-enable a user.&lt;/instructions&gt;
      &lt;field type='hidden' var='FORM_TYPE'&gt;
        &lt;value&gt;http://jabber.org/protocol/admin&lt;/value&gt;
      &lt;/field&gt;
      &lt;field label='The Jabber ID(s) to re-enable'
             type='jid-multi'
             var='accountjids'&gt;
        &lt;required/&gt;
      &lt;/field&gt;
    &lt;/x&gt;
  &lt;/command&gt;
&lt;/iq&gt;
</pre></div>
    <p class="" style="">Note: If the entity is an end user, the JID SHOULD be of the form &lt;user@host&gt;, not &lt;user@host/resource&gt;.</p>
    <p class="caption"><a name="example-15" id="example-15"></a>Example 15. Admin Submits Re-Enable User Form to Service</p><div class="indent"><pre class="prettyprint">
&lt;iq from='bard@shakespeare.lit/globe'
    id='reenable-user-2'
    to='shakespeare.lit'
    type='set'
    xml:lang='en'&gt;
  &lt;command xmlns='http://jabber.org/protocol/commands'
           node='http://jabber.org/protocol/admin#reenable-user'
           sessionid='reenable-user:20040408T0337Z'&gt;
    &lt;x xmlns='jabber:x:data' type='submit'&gt;
      &lt;field type='hidden' var='FORM_TYPE'&gt;
        &lt;value&gt;http://jabber.org/protocol/admin&lt;/value&gt;
      &lt;/field&gt;
      &lt;field var='accountjids'&gt;
        &lt;value&gt;juliet@shakespeare.lit&lt;/value&gt;
      &lt;/field&gt;
    &lt;/x&gt;
  &lt;/command&gt;
&lt;/iq&gt;
</pre></div>
    <p class="caption"><a name="example-16" id="example-16"></a>Example 16. Service Informs Admin of Completion</p><div class="indent"><pre class="prettyprint">
&lt;iq from='shakespeare.lit'
    id='reenable-user-2'
    to='bard@shakespeare.lit/globe'
    type='result'
    xml:lang='en'&gt;
  &lt;command xmlns='http://jabber.org/protocol/commands'
           node='http://jabber.org/protocol/admin#reenable-user'
           sessionid='reenable-user:20040408T0337Z'
           status='completed'/&gt;
&lt;/iq&gt;
</pre></div>
  </div>
  <div class="indent"><h3>4.5 <a name="end-user-session" id="end-user-session">End User Session</a></h3>
    <p class="" style="">An administrator may need to terminate one or all of the user's current sessions, but allow future logins (this can be thought of as "kicking" rather than "banning" the user). The command node for this use case SHOULD be "http://jabber.org/protocol/admin#end-user-session".</p>
    <p class="" style="">A sample protocol flow for this use case is shown below.</p>
    <p class="caption"><a name="example-17" id="example-17"></a>Example 17. Admin Requests to End a User's Session</p><div class="indent"><pre class="prettyprint">
&lt;iq from='bard@shakespeare.lit/globe'
    id='end-user-session-1'
    to='shakespeare.lit'
    type='set'
    xml:lang='en'&gt;
  &lt;command xmlns='http://jabber.org/protocol/commands'
           action='execute'
           node='http://jabber.org/protocol/admin#end-user-session'/&gt;
&lt;/iq&gt;
</pre></div>
    <p class="" style="">Unless an error occurs (see the <a href="#errors">Error Handling</a> section below), the service SHOULD return the appropriate form.</p>
    <p class="caption"><a name="example-18" id="example-18"></a>Example 18. Service Returns End User Session Form to Admin</p><div class="indent"><pre class="prettyprint">
&lt;iq from='shakespeare.lit'
    id='end-user-session-1'
    to='bard@shakespeare.lit/globe'
    type='result'
    xml:lang='en'&gt;
  &lt;command xmlns='http://jabber.org/protocol/commands'
           node='http://jabber.org/protocol/admin#end-user-session'
           sessionid='end-user-session:20040408T0337Z'
           status='executing'&gt;
    &lt;x xmlns='jabber:x:data' type='form'&gt;
      &lt;title&gt;Ending a User Session&lt;/title&gt;
      &lt;instructions&gt;Fill out this form to end a user&amp;apos;s session.&lt;/instructions&gt;
      &lt;field type='hidden' var='FORM_TYPE'&gt;
        &lt;value&gt;http://jabber.org/protocol/admin&lt;/value&gt;
      &lt;/field&gt;
      &lt;field label='The Jabber ID(s) for which to end sessions'
             type='jid-multi'
             var='accountjids'&gt;
        &lt;required/&gt;
      &lt;/field&gt;
    &lt;/x&gt;
  &lt;/command&gt;
&lt;/iq&gt;
</pre></div>
    <p class="" style="">Note: If the JID is of the form &lt;user@host&gt;, the service MUST end all of the user's sessions; if the JID is of the form &lt;user@host/resource&gt;, the service MUST end only the session associated with that resource.</p>
    <p class="caption"><a name="example-19" id="example-19"></a>Example 19. Admin Submits End User Session Form to Service</p><div class="indent"><pre class="prettyprint">
&lt;iq from='bard@shakespeare.lit/globe'
    id='end-user-session-2'
    to='shakespeare.lit'
    type='set'
    xml:lang='en'&gt;
  &lt;command xmlns='http://jabber.org/protocol/commands'
           node='http://jabber.org/protocol/admin#end-user-session'
           sessionid='end-user-session:20040408T0337Z'&gt;
    &lt;x xmlns='jabber:x:data' type='submit'&gt;
      &lt;field type='hidden' var='FORM_TYPE'&gt;
        &lt;value&gt;http://jabber.org/protocol/admin&lt;/value&gt;
      &lt;/field&gt;
      &lt;field var='accountjids'&gt;
        &lt;value&gt;juliet@shakespeare.lit&lt;/value&gt;
      &lt;/field&gt;
    &lt;/x&gt;
  &lt;/command&gt;
&lt;/iq&gt;
</pre></div>
    <p class="caption"><a name="example-20" id="example-20"></a>Example 20. Service Informs Admin of Completion</p><div class="indent"><pre class="prettyprint">
&lt;iq from='shakespeare.lit'
    id='end-user-session-2'
    to='bard@shakespeare.lit/globe'
    type='result'
    xml:lang='en'&gt;
  &lt;command xmlns='http://jabber.org/protocol/commands'
           node='http://jabber.org/protocol/admin#end-user-session'
           sessionid='end-user-session:20040408T0337Z'
           status='completed'/&gt;
&lt;/iq&gt;
</pre></div>
  </div>
  <div class="indent"><h3>4.6 <a name="get-user-password" id="get-user-password">Get User Password</a></h3>
    <p class="" style="">An administrator may need to retrieve a user's password. The command node for this use case SHOULD be "http://jabber.org/protocol/admin#get-user-password".</p>
    <p class="" style="">A sample protocol flow for this use case is shown below.</p>
    <p class="caption"><a name="example-21" id="example-21"></a>Example 21. Admin Requests to Get a User's Password</p><div class="indent"><pre class="prettyprint">
&lt;iq from='bard@shakespeare.lit/globe'
    id='get-user-password-1'
    to='shakespeare.lit'
    type='set'
    xml:lang='en'&gt;
  &lt;command xmlns='http://jabber.org/protocol/commands'
           action='execute'
           node='http://jabber.org/protocol/admin#get-user-password'/&gt;
&lt;/iq&gt;
</pre></div>
    <p class="" style="">Unless an error occurs (see the <a href="#errors">Error Handling</a> section below), the service SHOULD return the appropriate form.</p>
    <p class="caption"><a name="example-22" id="example-22"></a>Example 22. Service Returns Get User Password Form to Admin</p><div class="indent"><pre class="prettyprint">
&lt;iq from='shakespeare.lit'
    id='get-user-password-1'
    to='bard@shakespeare.lit/globe'
    type='result'
    xml:lang='en'&gt;
  &lt;command xmlns='http://jabber.org/protocol/commands'
           node='http://jabber.org/protocol/admin#get-user-password'
           sessionid='get-user-password:20040408T0337Z'
           status='executing'&gt;
    &lt;x xmlns='jabber:x:data' type='form'&gt;
      &lt;title&gt;Getting a User's Password&lt;/title&gt;
      &lt;instructions&gt;Fill out this form to get a user&amp;apos;s password.&lt;/instructions&gt;
      &lt;field type='hidden' var='FORM_TYPE'&gt;
        &lt;value&gt;http://jabber.org/protocol/admin&lt;/value&gt;
      &lt;/field&gt;
      &lt;field label='The Jabber ID for which to retrieve the password'
             type='jid-single'
             var='accountjid'&gt;
        &lt;required/&gt;
      &lt;/field&gt;
    &lt;/x&gt;
  &lt;/command&gt;
&lt;/iq&gt;
</pre></div>
    <p class="" style="">Note: If the entity is an end user, the JID SHOULD be of the form &lt;user@host&gt;, not &lt;user@host/resource&gt;.</p>
    <p class="caption"><a name="example-23" id="example-23"></a>Example 23. Admin Submits Get User Password Form to Service</p><div class="indent"><pre class="prettyprint">
&lt;iq from='bard@shakespeare.lit/globe'
    id='get-user-password-2'
    to='shakespeare.lit'
    type='set'
    xml:lang='en'&gt;
  &lt;command xmlns='http://jabber.org/protocol/commands'
           node='http://jabber.org/protocol/admin#get-user-password'
           sessionid='get-user-password:20040408T0337Z'&gt;
    &lt;x xmlns='jabber:x:data' type='submit'&gt;
      &lt;field type='hidden' var='FORM_TYPE'&gt;
        &lt;value&gt;http://jabber.org/protocol/admin&lt;/value&gt;
      &lt;/field&gt;
      &lt;field var='accountjid'&gt;
        &lt;value&gt;juliet@shakespeare.lit&lt;/value&gt;
      &lt;/field&gt;
    &lt;/x&gt;
  &lt;/command&gt;
&lt;/iq&gt;
</pre></div>
    <p class="" style="">Naturally, the data form included in the IQ result will include the user's password.</p>
    <p class="caption"><a name="example-24" id="example-24"></a>Example 24. Service Informs Admin of Completion</p><div class="indent"><pre class="prettyprint">
&lt;iq from='shakespeare.lit'
    id='get-user-password-2'
    to='bard@shakespeare.lit/globe'
    type='result'
    xml:lang='en'&gt;
  &lt;command xmlns='http://jabber.org/protocol/commands'
           node='http://jabber.org/protocol/admin#get-user-password'
           sessionid='get-user-password:20040408T0337Z'
           status='completed'&gt;
    &lt;x xmlns='jabber:x:data' type='result'&gt;
      &lt;field type='hidden' var='FORM_TYPE'&gt;
        &lt;value&gt;http://jabber.org/protocol/admin&lt;/value&gt;
      &lt;/field&gt;
      &lt;field var='accountjid'&gt;
        &lt;value&gt;juliet@shakespeare.lit&lt;/value&gt;
      &lt;/field&gt;
      &lt;field var='password'&gt;
        &lt;value&gt;R0m30&lt;/value&gt;
      &lt;/field&gt;
    &lt;/x&gt;
  &lt;/command&gt;
&lt;/iq&gt;
</pre></div>
  </div>
  <div class="indent"><h3>4.7 <a name="change-user-password" id="change-user-password">Change User Password</a></h3>
    <p class="" style="">An administrator may need to change a user's password. The command node for this use case SHOULD be "http://jabber.org/protocol/admin#change-user-password".</p>
    <p class="" style="">A sample protocol flow for this use case is shown below.</p>
    <p class="caption"><a name="example-25" id="example-25"></a>Example 25. Admin Requests to Change a User's Password</p><div class="indent"><pre class="prettyprint">
&lt;iq from='bard@shakespeare.lit/globe'
    id='change-user-password-1'
    to='shakespeare.lit'
    type='set'
    xml:lang='en'&gt;
  &lt;command xmlns='http://jabber.org/protocol/commands'
           action='execute'
           node='http://jabber.org/protocol/admin#change-user-password'/&gt;
&lt;/iq&gt;
</pre></div>
    <p class="" style="">Unless an error occurs (see the <a href="#errors">Error Handling</a> section below), the service SHOULD return the appropriate form.</p>
    <p class="caption"><a name="example-26" id="example-26"></a>Example 26. Service Returns Change User Password Form to Admin</p><div class="indent"><pre class="prettyprint">
&lt;iq from='shakespeare.lit'
    id='change-user-password-1'
    to='bard@shakespeare.lit/globe'
    type='result'
    xml:lang='en'&gt;
  &lt;command xmlns='http://jabber.org/protocol/commands'
           node='http://jabber.org/protocol/admin#change-user-password'
           sessionid='change-user-password:20040408T0337Z'
           status='executing'&gt;
    &lt;x xmlns='jabber:x:data' type='form'&gt;
      &lt;title&gt;Changing a User Password&lt;/title&gt;
      &lt;instructions&gt;Fill out this form to change a user&amp;apos;s password.&lt;/instructions&gt;
      &lt;field type='hidden' var='FORM_TYPE'&gt;
        &lt;value&gt;http://jabber.org/protocol/admin&lt;/value&gt;
      &lt;/field&gt;
      &lt;field label='The Jabber ID for this account'
             type='jid-single'
             var='accountjid'&gt;
        &lt;required/&gt;
      &lt;/field&gt;
      &lt;field label='The password for this account'
             type='text-private'
             var='password'&gt;
        &lt;required/&gt;
      &lt;/field&gt;
    &lt;/x&gt;
  &lt;/command&gt;
&lt;/iq&gt;
</pre></div>
    <p class="" style="">Note: If the entity is an end user, the JID SHOULD be of the form &lt;user@host&gt;, not &lt;user@host/resource&gt;.</p>
    <p class="caption"><a name="example-27" id="example-27"></a>Example 27. Admin Submits Change User Password Form to Service</p><div class="indent"><pre class="prettyprint">
&lt;iq from='bard@shakespeare.lit/globe'
    id='change-user-password-2'
    to='shakespeare.lit'
    type='set'
    xml:lang='en'&gt;
  &lt;command xmlns='http://jabber.org/protocol/commands'
           node='http://jabber.org/protocol/admin#change-user-password'
           sessionid='change-user-password:20040408T0337Z'&gt;
    &lt;x xmlns='jabber:x:data' type='submit'&gt;
      &lt;field type='hidden' var='FORM_TYPE'&gt;
        &lt;value&gt;http://jabber.org/protocol/admin&lt;/value&gt;
      &lt;/field&gt;
      &lt;field var='accountjid'&gt;
        &lt;value&gt;juliet@shakespeare.lit&lt;/value&gt;
      &lt;/field&gt;
      &lt;field var='password'&gt;
        &lt;value&gt;V3r0n4&lt;/value&gt;
      &lt;/field&gt;
    &lt;/x&gt;
  &lt;/command&gt;
&lt;/iq&gt;
</pre></div>
    <p class="caption"><a name="example-28" id="example-28"></a>Example 28. Service Informs Admin of Completion</p><div class="indent"><pre class="prettyprint">
&lt;iq from='shakespeare.lit'
    id='change-user-password-2'
    to='bard@shakespeare.lit/globe'
    type='result'
    xml:lang='en'&gt;
  &lt;command xmlns='http://jabber.org/protocol/commands'
           node='http://jabber.org/protocol/admin#change-user-password'
           sessionid='change-user-password:20040408T0337Z'
           status='completed'/&gt;
&lt;/iq&gt;
</pre></div>
  </div>
  <div class="indent"><h3>4.8 <a name="get-user-roster" id="get-user-roster">Get User Roster</a></h3>
    <p class="" style="">An administrator may need to retrieve a user's roster (e.g., to help verify the user's ownership of the account before reminding the user of the password). The command node for this use case SHOULD be "http://jabber.org/protocol/admin#get-user-roster".</p>
    <p class="" style="">A sample protocol flow for this use case is shown below.</p>
    <p class="caption"><a name="example-29" id="example-29"></a>Example 29. Admin Requests to Get a User's Roster</p><div class="indent"><pre class="prettyprint">
&lt;iq from='bard@shakespeare.lit/globe'
    id='get-user-roster-1'
    to='shakespeare.lit'
    type='set'
    xml:lang='en'&gt;
  &lt;command xmlns='http://jabber.org/protocol/commands'
           action='execute'
           node='http://jabber.org/protocol/admin#get-user-roster'/&gt;
&lt;/iq&gt;
</pre></div>
    <p class="" style="">Unless an error occurs (see the <a href="#errors">Error Handling</a> section below), the service SHOULD return the appropriate form.</p>
    <p class="caption"><a name="example-30" id="example-30"></a>Example 30. Service Returns Get User Roster Form to Admin</p><div class="indent"><pre class="prettyprint">
&lt;iq from='shakespeare.lit'
    id='get-user-roster-1'
    to='bard@shakespeare.lit/globe'
    type='result'
    xml:lang='en'&gt;
  &lt;command xmlns='http://jabber.org/protocol/commands'
           node='http://jabber.org/protocol/admin#get-user-roster'
           sessionid='get-user-roster:20040408T0337Z'
           status='executing'&gt;
    &lt;x xmlns='jabber:x:data' type='form'&gt;
      &lt;title&gt;Getting a User's Roster&lt;/title&gt;
      &lt;instructions&gt;Fill out this form to get a user&amp;apos;s roster.&lt;/instructions&gt;
      &lt;field type='hidden' var='FORM_TYPE'&gt;
        &lt;value&gt;http://jabber.org/protocol/admin&lt;/value&gt;
      &lt;/field&gt;
      &lt;field label='The Jabber ID(s) for which to retrieve the roster'
             type='jid-multi'
             var='accountjids'&gt;
        &lt;required/&gt;
      &lt;/field&gt;
    &lt;/x&gt;
  &lt;/command&gt;
&lt;/iq&gt;
</pre></div>
    <p class="" style="">Note: If the entity is an end user, the JID SHOULD be of the form &lt;user@host&gt;, not &lt;user@host/resource&gt;.</p>
    <p class="caption"><a name="example-31" id="example-31"></a>Example 31. Admin Submits Get User Roster Form to Service</p><div class="indent"><pre class="prettyprint">
&lt;iq from='bard@shakespeare.lit/globe'
    id='get-user-roster-2'
    to='shakespeare.lit'
    type='set'
    xml:lang='en'&gt;
  &lt;command xmlns='http://jabber.org/protocol/commands'
           node='http://jabber.org/protocol/admin#get-user-roster'
           sessionid='get-user-roster:20040408T0337Z'&gt;
    &lt;x xmlns='jabber:x:data' type='submit'&gt;
      &lt;field type='hidden' var='FORM_TYPE'&gt;
        &lt;value&gt;http://jabber.org/protocol/admin&lt;/value&gt;
      &lt;/field&gt;
      &lt;field var='accountjids'&gt;
        &lt;value&gt;juliet@shakespeare.lit&lt;/value&gt;
      &lt;/field&gt;
    &lt;/x&gt;
  &lt;/command&gt;
&lt;/iq&gt;
</pre></div>
    <p class="" style="">The data form included in the IQ result will include the user's roster, formatted according to the 'jabber:iq:roster' protocol defined in <span class="ref" style=""><a href="http://tools.ietf.org/html/rfc6121">XMPP IM</a></span>  [<a href="#nt-idm234">5</a>].</p>
    <p class="caption"><a name="example-32" id="example-32"></a>Example 32. Service Informs Admin of Completion</p><div class="indent"><pre class="prettyprint">
&lt;iq from='shakespeare.lit'
    id='get-user-roster-2'
    to='bard@shakespeare.lit/globe'
    type='result'
    xml:lang='en'&gt;
  &lt;command xmlns='http://jabber.org/protocol/commands'
           node='http://jabber.org/protocol/admin#get-user-roster'
           sessionid='get-user-roster:20040408T0337Z'
           status='completed'&gt;
    &lt;x xmlns='jabber:x:data' type='result'&gt;
      &lt;field type='hidden' var='FORM_TYPE'&gt;
        &lt;value&gt;http://jabber.org/protocol/admin&lt;/value&gt;
      &lt;/field&gt;
      &lt;field var='accountjids'&gt;
        &lt;value&gt;juliet@shakespeare.lit&lt;/value&gt;
      &lt;/field&gt;
      &lt;query xmlns='jabber:iq:roster'&gt;
        &lt;item jid='romeo@example.net'
              name='Romeo'
              subscription='both'&gt;
          &lt;group&gt;Friends&lt;/group&gt;
          &lt;group&gt;Lovers&lt;/group&gt;
        &lt;/item&gt;
        &lt;item jid='mercutio@example.org'
              name='Mercutio'
              subscription='from'&gt;
          &lt;group&gt;Friends&lt;/group&gt;
        &lt;/item&gt;
        &lt;item jid='benvolio@example.org'
              name='Benvolio'
              subscription='both'&gt;
          &lt;group&gt;Friends&lt;/group&gt;
        &lt;/item&gt;
      &lt;/query&gt;
    &lt;/x&gt;
  &lt;/command&gt;
&lt;/iq&gt;
</pre></div>
  </div>
  <div class="indent"><h3>4.9 <a name="get-user-lastlogin" id="get-user-lastlogin">Get User Last Login Time</a></h3>
    <p class="" style="">An administrator may need to retrieve a user's last login time (e.g., to help verify the user's ownership of the account before reminding the user of the password). The command node for this use case SHOULD be "http://jabber.org/protocol/admin#get-user-lastlogin".</p>
    <p class="" style="">A sample protocol flow for this use case is shown below.</p>
    <p class="caption"><a name="example-33" id="example-33"></a>Example 33. Admin Requests to Get a User's Roster</p><div class="indent"><pre class="prettyprint">
&lt;iq from='bard@shakespeare.lit/globe'
    id='get-user-lastlogin-1'
    to='shakespeare.lit'
    type='set'
    xml:lang='en'&gt;
  &lt;command xmlns='http://jabber.org/protocol/commands'
           action='execute'
           node='http://jabber.org/protocol/admin#get-user-lastlogin'/&gt;
&lt;/iq&gt;
</pre></div>
    <p class="" style="">Unless an error occurs (see the <a href="#errors">Error Handling</a> section below), the service SHOULD return the appropriate form.</p>
    <p class="caption"><a name="example-34" id="example-34"></a>Example 34. Service Returns Get User Last Login Form to Admin</p><div class="indent"><pre class="prettyprint">
&lt;iq from='shakespeare.lit'
    id='get-user-lastlogin-1'
    to='bard@shakespeare.lit/globe'
    type='result'
    xml:lang='en'&gt;
  &lt;command xmlns='http://jabber.org/protocol/commands'
           node='http://jabber.org/protocol/admin#get-user-lastlogin'
           sessionid='get-user-lastlogin:20040408T0337Z'
           status='executing'&gt;
    &lt;x xmlns='jabber:x:data' type='form'&gt;
      &lt;title&gt;Getting a User's Last Login Time&lt;/title&gt;
      &lt;instructions&gt;Fill out this form to get a user&amp;apos;s last login time.&lt;/instructions&gt;
      &lt;field type='hidden' var='FORM_TYPE'&gt;
        &lt;value&gt;http://jabber.org/protocol/admin&lt;/value&gt;
      &lt;/field&gt;
      &lt;field label='The Jabber ID(s) for which to retrieve the last login time'
             type='jid-multi'
             var='accountjids'&gt;
        &lt;required/&gt;
      &lt;/field&gt;
    &lt;/x&gt;
  &lt;/command&gt;
&lt;/iq&gt;
</pre></div>
    <p class="" style="">Note: If the entity is an end user, the JID SHOULD be of the form &lt;user@host&gt;, not &lt;user@host/resource&gt;.</p>
    <p class="caption"><a name="example-35" id="example-35"></a>Example 35. Admin Submits Get User Last Login Form to Service</p><div class="indent"><pre class="prettyprint">
&lt;iq from='bard@shakespeare.lit/globe'
    id='get-user-lastlogin-2'
    to='shakespeare.lit'
    type='set'
    xml:lang='en'&gt;
  &lt;command xmlns='http://jabber.org/protocol/commands'
           node='http://jabber.org/protocol/admin#get-user-lastlogin'
           sessionid='get-user-lastlogin:20040408T0337Z'&gt;
    &lt;x xmlns='jabber:x:data' type='submit'&gt;
      &lt;field type='hidden' var='FORM_TYPE'&gt;
        &lt;value&gt;http://jabber.org/protocol/admin&lt;/value&gt;
      &lt;/field&gt;
      &lt;field var='accountjids'&gt;
        &lt;value&gt;juliet@shakespeare.lit&lt;/value&gt;
      &lt;/field&gt;
    &lt;/x&gt;
  &lt;/command&gt;
&lt;/iq&gt;
</pre></div>
    <p class="" style="">The data form included in the IQ result will include the user's last login time (which SHOULD conform to the DateTime profile specified in <span class="ref" style=""><a href="https://xmpp.org/extensions/xep-0082.html">XMPP Date and Time Profiles (XEP-0082)</a></span>  [<a href="#nt-idm249">6</a>]).</p>
    <p class="caption"><a name="example-36" id="example-36"></a>Example 36. Service Informs Admin of Completion</p><div class="indent"><pre class="prettyprint">
&lt;iq from='shakespeare.lit'
    id='get-user-lastlogin-2'
    to='bard@shakespeare.lit/globe'
    type='result'
    xml:lang='en'&gt;
  &lt;command xmlns='http://jabber.org/protocol/commands'
           node='http://jabber.org/protocol/admin#get-user-lastlogin'
           sessionid='get-user-lastlogin:20040408T0337Z'
           status='completed'&gt;
    &lt;x xmlns='jabber:x:data' type='result'&gt;
      &lt;field type='hidden' var='FORM_TYPE'&gt;
        &lt;value&gt;http://jabber.org/protocol/admin&lt;/value&gt;
      &lt;/field&gt;
      &lt;field var='accountjids'&gt;
        &lt;value&gt;juliet@shakespeare.lit&lt;/value&gt;
      &lt;/field&gt;
      &lt;field var='lastlogin'&gt;
        &lt;value&gt;2003-12-19T17:58:35Z&lt;/value&gt;
      &lt;/field&gt;
    &lt;/x&gt;
  &lt;/command&gt;
&lt;/iq&gt;
</pre></div>
  </div>
  <div class="indent"><h3>4.10 <a name="get-user-stats" id="get-user-stats">Get User Statistics</a></h3>
    <p class="" style="">An administrator may want to gather statistics about a particular user's interaction with the service (roster size, bandwidth usage, logins, IP address, etc.). The command node for this use case SHOULD be "http://jabber.org/protocol/admin#user-stats".</p>
    <p class="" style="">A sample protocol flow for this use case is shown below.</p>
    <p class="caption"><a name="example-37" id="example-37"></a>Example 37. Admin Requests User Statistics</p><div class="indent"><pre class="prettyprint">
&lt;iq from='bard@shakespeare.lit/globe'
    id='user-stats-1'
    to='shakespeare.lit'
    type='set'
    xml:lang='en'&gt;
  &lt;command xmlns='http://jabber.org/protocol/commands'
           action='execute'
           node='http://jabber.org/protocol/admin#user-stats'/&gt;
&lt;/iq&gt;
</pre></div>
    <p class="" style="">Unless an error occurs (see the <a href="#errors">Error Handling</a> section below), the service SHOULD return the appropriate form.</p>
    <p class="caption"><a name="example-38" id="example-38"></a>Example 38. Service Returns User Statistics Form to Admin</p><div class="indent"><pre class="prettyprint">
&lt;iq from='shakespeare.lit'
    id='user-stats-1'
    to='bard@shakespeare.lit/globe'
    type='result'
    xml:lang='en'&gt;
  &lt;command xmlns='http://jabber.org/protocol/commands'
           node='http://jabber.org/protocol/admin#user-stats'
           sessionid='user-stats:20040408T0337Z'
           status='executing'&gt;
    &lt;x xmlns='jabber:x:data' type='form'&gt;
      &lt;title&gt;Get User Statistics&lt;/title&gt;
      &lt;instructions&gt;Fill out this form to gather user statistics.&lt;/instructions&gt;
      &lt;field type='hidden' var='FORM_TYPE'&gt;
        &lt;value&gt;http://jabber.org/protocol/admin&lt;/value&gt;
      &lt;/field&gt;
      &lt;field label='The Jabber ID for statistics'
             type='jid-single'
             var='accountjid'&gt;
        &lt;required/&gt;
      &lt;/field&gt;
    &lt;/x&gt;
  &lt;/command&gt;
&lt;/iq&gt;
</pre></div>
    <p class="caption"><a name="example-39" id="example-39"></a>Example 39. Admin Submits User Statistics Form to Service</p><div class="indent"><pre class="prettyprint">
&lt;iq from='bard@shakespeare.lit/globe'
    id='user-stats-2'
    to='shakespeare.lit'
    type='set'
    xml:lang='en'&gt;
  &lt;command xmlns='http://jabber.org/protocol/commands'
           node='http://jabber.org/protocol/admin#user-stats'
           sessionid='user-stats:20040408T0337Z'&gt;
    &lt;x xmlns='jabber:x:data' type='submit'&gt;
      &lt;field type='hidden' var='FORM_TYPE'&gt;
        &lt;value&gt;http://jabber.org/protocol/admin&lt;/value&gt;
      &lt;/field&gt;
      &lt;field var='accountjid'&gt;
        &lt;value&gt;iago@shakespeare.lit&lt;/value&gt;
      &lt;/field&gt;
    &lt;/x&gt;
  &lt;/command&gt;
&lt;/iq&gt;
</pre></div>
    <p class="caption"><a name="example-40" id="example-40"></a>Example 40. Service Informs Admin of Completion</p><div class="indent"><pre class="prettyprint">
&lt;iq from='shakespeare.lit'
    id='user-stats-2'
    to='bard@shakespeare.lit/globe'
    type='result'
    xml:lang='en'&gt;
  &lt;command xmlns='http://jabber.org/protocol/commands'
           node='http://jabber.org/protocol/admin#user-stats'
           sessionid='user-stats:20040408T0337Z'
           status='completed'&gt;
    &lt;x xmlns='jabber:x:data' type='result'&gt;
      &lt;field type='hidden' var='FORM_TYPE'&gt;
        &lt;value&gt;http://jabber.org/protocol/admin&lt;/value&gt;
      &lt;/field&gt;
      &lt;field var='ipaddresses'&gt;
        &lt;value&gt;127.0.0.1&lt;/value&gt;
      &lt;/field&gt;
      &lt;field var='rostersize'&gt;
        &lt;value&gt;123&lt;/value&gt;
      &lt;/field&gt;
      &lt;field var='onlineresources'&gt;
        &lt;value&gt;work&lt;/value&gt;
        &lt;value&gt;home&lt;/value&gt;
      &lt;/field&gt;
      &lt;field var='stanzaspersecond'&gt;
        &lt;value&gt;3&lt;/value&gt;
      &lt;/field&gt;
      &lt;field var='loginsperminute'&gt;
        &lt;value&gt;0.1&lt;/value&gt;
      &lt;/field&gt;
    &lt;/x&gt;
  &lt;/command&gt;
&lt;/iq&gt;
</pre></div>
  </div>
  <div class="indent"><h3>4.11 <a name="edit-blacklist" id="edit-blacklist">Edit Blacklist</a></h3>
    <p class="" style="">The service may enable an administrator to define one or more service-wide blacklists (lists of entities that are blocked from communications to or from the service). For example, a multi-user chat service may forbid a certain user from joining any room on the service, or may block entire domains from accessing the service. An entity specified on the blacklist MAY be a JID of any form as specified in <span class="ref" style=""><a href="http://tools.ietf.org/html/rfc6120">RFC 6120</a></span>  [<a href="#nt-idm265">7</a>]; the order of JID matching SHOULD be that specified for privacy lists in <span class="ref" style=""><a href="https://xmpp.org/extensions/xep-0016.html">Privacy Lists (XEP-0016)</a></span>  [<a href="#nt-idm269">8</a>].</p>
    <p class="" style="">A blacklist may prevent inbound communications, outbound communications, or both; whether to offer only bidirectional blocking or a more granular choice of inbound or outbound blocking is a matter of implementation or deployment policy. The command node for this use case SHOULD be "http://jabber.org/protocol/admin#edit-blacklist" if blocking is bidirectional as shown below; "http://jabber.org/protocol/admin#add-to-blacklist-in" for inbound blocking only; and "http://jabber.org/protocol/admin#add-to-blacklist-out" for outbound blocking only.</p>
    <p class="" style="">A sample protocol flow for this use case is shown below.</p>
    <p class="caption"><a name="example-41" id="example-41"></a>Example 41. Admin Requests Editing of Blacklist</p><div class="indent"><pre class="prettyprint">
&lt;iq from='bard@shakespeare.lit/globe'
    id='edit-blacklist-1'
    to='shakespeare.lit'
    type='set'
    xml:lang='en'&gt;
  &lt;command xmlns='http://jabber.org/protocol/commands'
           action='execute'
           node='http://jabber.org/protocol/admin#edit-blacklist'/&gt;
&lt;/iq&gt;
</pre></div>
    <p class="" style="">Unless an error occurs (see the <a href="#errors">Error Handling</a> section below), the service SHOULD return the appropriate form.</p>
    <p class="caption"><a name="example-42" id="example-42"></a>Example 42. Service Returns Edit Blacklist Form to Admin</p><div class="indent"><pre class="prettyprint">
&lt;iq from='shakespeare.lit'
    id='edit-blacklist-1'
    to='bard@shakespeare.lit/globe'
    type='result'
    xml:lang='en'&gt;
  &lt;command xmlns='http://jabber.org/protocol/commands'
           node='http://jabber.org/protocol/admin#edit-blacklist'
           sessionid='edit-blacklist:20040408T0337Z'
           status='executing'&gt;
    &lt;x xmlns='jabber:x:data' type='form'&gt;
      &lt;title&gt;Editing the Blacklist&lt;/title&gt;
      &lt;instructions&gt;
          Fill out this form to edit the list of entities with whom
          communications are disallowed.
      &lt;/instructions&gt;
      &lt;field type='hidden' var='FORM_TYPE'&gt;
        &lt;value&gt;http://jabber.org/protocol/admin&lt;/value&gt;
      &lt;/field&gt;
      &lt;field label='The blacklist'
             var='blacklistjids'&gt;
        &lt;value&gt;marlowe.lit&lt;/value&gt;
      &lt;/field&gt;
    &lt;/x&gt;
  &lt;/command&gt;
&lt;/iq&gt;
</pre></div>
    <p class="caption"><a name="example-43" id="example-43"></a>Example 43. Admin Submits Edit Blacklist Form to Service</p><div class="indent"><pre class="prettyprint">
&lt;iq from='bard@shakespeare.lit/globe'
    id='edit-blacklist-2'
    to='shakespeare.lit'
    type='set'
    xml:lang='en'&gt;
  &lt;command xmlns='http://jabber.org/protocol/commands'
           node='http://jabber.org/protocol/admin#edit-blacklist'
           sessionid='edit-blacklist:20040408T0337Z'&gt;
    &lt;x xmlns='jabber:x:data' type='submit'&gt;
      &lt;field type='hidden' var='FORM_TYPE'&gt;
        &lt;value&gt;http://jabber.org/protocol/admin&lt;/value&gt;
      &lt;/field&gt;
      &lt;field var='blacklistjids'&gt;
        &lt;value&gt;denmark.lit&lt;/value&gt;
        &lt;value&gt;france.lit&lt;/value&gt;
        &lt;value&gt;marlowe.lit&lt;/value&gt;
      &lt;/field&gt;
    &lt;/x&gt;
  &lt;/command&gt;
&lt;/iq&gt;
</pre></div>
    <p class="caption"><a name="example-44" id="example-44"></a>Example 44. Service Informs Admin of Completion</p><div class="indent"><pre class="prettyprint">
&lt;iq from='shakespeare.lit'
    id='edit-blacklist-2'
    to='bard@shakespeare.lit/globe'
    type='result'
    xml:lang='en'&gt;
  &lt;command xmlns='http://jabber.org/protocol/commands'
           node='http://jabber.org/protocol/admin#edit-blacklist'
           sessionid='edit-blacklist:20040408T0337Z'
           status='completed'/&gt;
&lt;/iq&gt;
</pre></div>
  </div>
  <div class="indent"><h3>4.12 <a name="edit-whitelist" id="edit-whitelist">Edit Whitelist</a></h3>
    <p class="" style="">The service may enable an administrator to define one or more service-wide whitelists (lists of entities that are allowed to communicate the service). For example, a publish-subscribe may allow only a select list of users to publish or subscribe to nodes hosted on the service. An entity added to a whitelist MAY be a JID of any form as specified in <span class="ref">RFC 6120</span>; the order of JID matching SHOULD be that specified for privacy lists in <span class="ref" style=""><a href="https://xmpp.org/extensions/xep-0016.html">Privacy Lists (XEP-0016)</a></span>  [<a href="#nt-idm269">8</a>].</p>
    <p class="" style="">As with blacklists, a whitelist may prevent inbound communications, outbound communications, or both; whether to offer only bidirectional blocking or a more granular choice of inbound or outbound blocking is a matter of implementation or deployment policy. The command node for this use case SHOULD be "http://jabber.org/protocol/admin#add-to-whitelist" if blocking is bidirectional; "http://jabber.org/protocol/admin#add-to-whitelist-in" for inbound blocking only; and "http://jabber.org/protocol/admin#add-to-whitelist-out" for outbound blocking only.</p>
    <p class="" style="">A sample protocol flow for this use case is shown below.</p>
    <p class="caption"><a name="example-45" id="example-45"></a>Example 45. Admin Requests Editing of Whitelist</p><div class="indent"><pre class="prettyprint">
&lt;iq from='bard@shakespeare.lit/globe'
    id='edit-whitelist-1'
    to='shakespeare.lit'
    type='set'
    xml:lang='en'&gt;
  &lt;command xmlns='http://jabber.org/protocol/commands'
           action='execute'
           node='http://jabber.org/protocol/admin#edit-whitelist'/&gt;
&lt;/iq&gt;
</pre></div>
    <p class="" style="">Unless an error occurs (see the <a href="#errors">Error Handling</a> section below), the service SHOULD return the appropriate form.</p>
    <p class="caption"><a name="example-46" id="example-46"></a>Example 46. Service Returns Edit Whitelist Form to Admin</p><div class="indent"><pre class="prettyprint">
&lt;iq from='shakespeare.lit'
    id='edit-whitelist-1'
    to='bard@shakespeare.lit/globe'
    type='result'
    xml:lang='en'&gt;
  &lt;command xmlns='http://jabber.org/protocol/commands'
           node='http://jabber.org/protocol/admin#edit-whitelist'
           sessionid='edit-whitelist:20040408T0337Z'
           status='executing'&gt;
    &lt;x xmlns='jabber:x:data' type='form'&gt;
      &lt;title&gt;Editing the Whitelist&lt;/title&gt;
      &lt;instructions&gt;
          Fill out this form to edit the list of entities with whom
          communications are allowed.
      &lt;/instructions&gt;
      &lt;field type='hidden' var='FORM_TYPE'&gt;
        &lt;value&gt;http://jabber.org/protocol/admin&lt;/value&gt;
      &lt;/field&gt;
      &lt;field label='The whitelist'
             var='whitelistjids'&gt;
        &lt;value&gt;capulet.com&lt;/value&gt;
        &lt;value&gt;denmark.lit&lt;/value&gt;
        &lt;value&gt;england.lit&lt;/value&gt;
        &lt;value&gt;montague.net&lt;/value&gt;
      &lt;/field&gt;
    &lt;/x&gt;
  &lt;/command&gt;
&lt;/iq&gt;
</pre></div>
    <p class="caption"><a name="example-47" id="example-47"></a>Example 47. Admin Submits Edit Whitelist Form to Service</p><div class="indent"><pre class="prettyprint">
&lt;iq from='bard@shakespeare.lit/globe'
    id='edit-whitelist-2'
    to='shakespeare.lit'
    type='set'
    xml:lang='en'&gt;
  &lt;command xmlns='http://jabber.org/protocol/commands'
           node='http://jabber.org/protocol/admin#edit-whitelist'
           sessionid='edit-whitelist:20040408T0337Z'&gt;
    &lt;x xmlns='jabber:x:data' type='submit'&gt;
      &lt;field type='hidden' var='FORM_TYPE'&gt;
        &lt;value&gt;http://jabber.org/protocol/admin&lt;/value&gt;
      &lt;/field&gt;
      &lt;field var='whitelistjids'&gt;
        &lt;value&gt;capulet.com&lt;/value&gt;
        &lt;value&gt;england.lit&lt;/value&gt;
        &lt;value&gt;montague.net&lt;/value&gt;
        &lt;value&gt;verona.it&lt;/value&gt;
      &lt;/field&gt;
    &lt;/x&gt;
  &lt;/command&gt;
&lt;/iq&gt;
</pre></div>
    <p class="caption"><a name="example-48" id="example-48"></a>Example 48. Service Informs Admin of Completion</p><div class="indent"><pre class="prettyprint">
&lt;iq from='shakespeare.lit'
    id='edit-whitelist-2'
    to='bard@shakespeare.lit/globe'
    type='result'
    xml:lang='en'&gt;
  &lt;command xmlns='http://jabber.org/protocol/commands'
           node='http://jabber.org/protocol/admin#edit-whitelist'
           sessionid='edit-whitelist:20040408T0337Z'
           status='completed'/&gt;
&lt;/iq&gt;
</pre></div>
  </div>
  <div class="indent"><h3>4.13 <a name="get-registered-users-num" id="get-registered-users-num">Get Number of Registered Users</a></h3>
    <p class="" style="">It may be helpful to enable an administrator to retrieve the number of registered users. The command node for this use case SHOULD be "http://jabber.org/protocol/admin#get-registered-users-num".</p>
    <p class="" style="">A sample protocol flow for this use case is shown below.</p>
    <p class="caption"><a name="example-49" id="example-49"></a>Example 49. Admin Requests Number of Registered Users</p><div class="indent"><pre class="prettyprint">
&lt;iq from='bard@shakespeare.lit/globe'
    id='get-registered-users-num-1'
    to='shakespeare.lit'
    type='set'
    xml:lang='en'&gt;
  &lt;command xmlns='http://jabber.org/protocol/commands'
           action='execute'
           node='http://jabber.org/protocol/admin#get-registered-users-num'/&gt;
&lt;/iq&gt;
</pre></div>
    <p class="" style="">Unless an error occurs (see the <a href="#errors">Error Handling</a> section below), the service SHOULD simply return the number of registered users.</p>
    <p class="caption"><a name="example-50" id="example-50"></a>Example 50. Service Informs Admin of Completion</p><div class="indent"><pre class="prettyprint">
&lt;iq from='shakespeare.lit'
    id='get-registered-users-num-1'
    to='bard@shakespeare.lit/globe'
    type='result'
    xml:lang='en'&gt;
  &lt;command xmlns='http://jabber.org/protocol/commands'
           node='http://jabber.org/protocol/admin#get-registered-users-num'
           sessionid='get-registered-users-num:20040408T0337Z'
           status='completed'&gt;
    &lt;x xmlns='jabber:x:data' type='form'&gt;
      &lt;field type='hidden' var='FORM_TYPE'&gt;
        &lt;value&gt;http://jabber.org/protocol/admin&lt;/value&gt;
      &lt;/field&gt;
      &lt;field label='The number of registered users'
             var='registeredusersnum'&gt;
        &lt;value&gt;123&lt;/value&gt;
      &lt;/field&gt;
    &lt;/x&gt;
  &lt;/command&gt;
&lt;/iq&gt;
</pre></div>
  </div>
  <div class="indent"><h3>4.14 <a name="get-disabled-users-num" id="get-disabled-users-num">Get Number of Disabled Users</a></h3>
    <p class="" style="">Given that admins may be able to disable user accounts, it may be helpful to enable an administrator to retrieve the number of disabled users. The command node for this use case SHOULD be "http://jabber.org/protocol/admin#get-disabled-users-num".</p>
    <p class="" style="">A sample protocol flow for this use case is shown below.</p>
    <p class="caption"><a name="example-51" id="example-51"></a>Example 51. Admin Requests Number of Disabled Users</p><div class="indent"><pre class="prettyprint">
&lt;iq from='bard@shakespeare.lit/globe'
    id='get-disabled-users-num-1'
    to='shakespeare.lit'
    type='set'
    xml:lang='en'&gt;
  &lt;command xmlns='http://jabber.org/protocol/commands'
           action='execute'
           node='http://jabber.org/protocol/admin#get-disabled-users-num'/&gt;
&lt;/iq&gt;
</pre></div>
    <p class="" style="">Unless an error occurs (see the <a href="#errors">Error Handling</a> section below), the service SHOULD simply return the number of disabled users.</p>
    <p class="caption"><a name="example-52" id="example-52"></a>Example 52. Service Informs Admin of Completion</p><div class="indent"><pre class="prettyprint">
&lt;iq from='shakespeare.lit'
    id='get-disabled-users-num-1'
    to='bard@shakespeare.lit/globe'
    type='result'
    xml:lang='en'&gt;
  &lt;command xmlns='http://jabber.org/protocol/commands'
           node='http://jabber.org/protocol/admin#get-disabled-users-num'
           sessionid='get-disabled-users-num:20040408T0337Z'
           status='completed'&gt;
    &lt;x xmlns='jabber:x:data' type='form'&gt;
      &lt;field type='hidden' var='FORM_TYPE'&gt;
        &lt;value&gt;http://jabber.org/protocol/admin&lt;/value&gt;
      &lt;/field&gt;
      &lt;field label='The number of disabled users'
             var='disabledusersnum'&gt;
        &lt;value&gt;123&lt;/value&gt;
      &lt;/field&gt;
    &lt;/x&gt;
  &lt;/command&gt;
&lt;/iq&gt;
</pre></div>
  </div>
  <div class="indent"><h3>4.15 <a name="get-online-users-num" id="get-online-users-num">Get Number of Online Users</a></h3>
    <p class="" style="">It may be helpful to enable an administrator to retrieve the number of registered users who are online at any one moment. By "online user" is meant any user or account that currently has at least one connected or available resource as specified in <span class="ref">RFC 6120</span> and <span class="ref">RFC 6121</span>, whether that user is actively sending XML stanzas or is idle. The command node for this use case SHOULD be "http://jabber.org/protocol/admin#get-online-users-num".</p>
    <p class="" style="">A sample protocol flow for this use case is shown below.</p>
    <p class="caption"><a name="example-53" id="example-53"></a>Example 53. Admin Requests Number of Online Users</p><div class="indent"><pre class="prettyprint">
&lt;iq from='bard@shakespeare.lit/globe'
    id='get-online-users-num-1'
    to='shakespeare.lit'
    type='set'
    xml:lang='en'&gt;
  &lt;command xmlns='http://jabber.org/protocol/commands'
           action='execute'
           node='http://jabber.org/protocol/admin#get-online-users-num'/&gt;
&lt;/iq&gt;
</pre></div>
    <p class="" style="">Unless an error occurs (see the <a href="#errors">Error Handling</a> section below), the service SHOULD simply return the number of online users.</p>
    <p class="caption"><a name="example-54" id="example-54"></a>Example 54. Service Informs Admin of Completion</p><div class="indent"><pre class="prettyprint">
&lt;iq from='shakespeare.lit'
    id='get-online-users-num-1'
    to='bard@shakespeare.lit/globe'
    type='result'
    xml:lang='en'&gt;
  &lt;command xmlns='http://jabber.org/protocol/commands'
           node='http://jabber.org/protocol/admin#get-online-users-num'
           sessionid='get-online-users-num:20040408T0337Z'
           status='completed'&gt;
    &lt;x xmlns='jabber:x:data' type='result'&gt;
      &lt;field type='hidden' var='FORM_TYPE'&gt;
        &lt;value&gt;http://jabber.org/protocol/admin&lt;/value&gt;
      &lt;/field&gt;
      &lt;field label='The number of online users'
             var='onlineusersnum'&gt;
        &lt;value&gt;79&lt;/value&gt;
      &lt;/field&gt;
    &lt;/x&gt;
  &lt;/command&gt;
&lt;/iq&gt;
</pre></div>
  </div>
  <div class="indent"><h3>4.16 <a name="get-active-users-num" id="get-active-users-num">Get Number of Active Users</a></h3>
    <p class="" style="">Some services may distinguish users who are online and actively using the service from users who are online but idle. Therefore it may be helpful to enable an administrator to retrieve the number of online users who are active at any one moment. The command node for this use case SHOULD be "http://jabber.org/protocol/admin#get-active-users-num".</p>
    <p class="" style="">A sample protocol flow for this use case is shown below.</p>
    <p class="caption"><a name="example-55" id="example-55"></a>Example 55. Admin Requests Number of Active Users</p><div class="indent"><pre class="prettyprint">
&lt;iq from='bard@shakespeare.lit/globe'
    id='get-active-users-num-1'
    to='shakespeare.lit'
    type='set'
    xml:lang='en'&gt;
  &lt;command xmlns='http://jabber.org/protocol/commands'
           action='execute'
           node='http://jabber.org/protocol/admin#get-active-users-num'/&gt;
&lt;/iq&gt;
</pre></div>
    <p class="" style="">Unless an error occurs (see the <a href="#errors">Error Handling</a> section below), the service SHOULD simply return the number of active users.</p>
    <p class="caption"><a name="example-56" id="example-56"></a>Example 56. Service Informs Admin of Completion</p><div class="indent"><pre class="prettyprint">
&lt;iq from='shakespeare.lit'
    id='get-active-users-num-1'
    to='bard@shakespeare.lit/globe'
    type='result'
    xml:lang='en'&gt;
  &lt;command xmlns='http://jabber.org/protocol/commands'
           node='http://jabber.org/protocol/admin#get-active-users-num'
           sessionid='get-online-users-num:20040408T0337Z'
           status='completed'&gt;
    &lt;x xmlns='jabber:x:data' type='result'&gt;
      &lt;field type='hidden' var='FORM_TYPE'&gt;
        &lt;value&gt;http://jabber.org/protocol/admin&lt;/value&gt;
      &lt;/field&gt;
      &lt;field label='The number of active users'
             var='activeusersnum'&gt;
        &lt;value&gt;66&lt;/value&gt;
      &lt;/field&gt;
    &lt;/x&gt;
  &lt;/command&gt;
&lt;/iq&gt;
</pre></div>
  </div>
  <div class="indent"><h3>4.17 <a name="get-idle-users-num" id="get-idle-users-num">Get Number of Idle Users</a></h3>
    <p class="" style="">Some services may distinguish users who are online and actively using the service from users who are online but idle. Therefore it may be helpful to enable an administrator to retrieve the number of online users who are idle at any one moment. The command node for this use case SHOULD be "http://jabber.org/protocol/admin#get-idle-users-num".</p>
    <p class="" style="">A sample protocol flow for this use case is shown below.</p>
    <p class="caption"><a name="example-57" id="example-57"></a>Example 57. Admin Requests Number of Idle Users</p><div class="indent"><pre class="prettyprint">
&lt;iq from='bard@shakespeare.lit/globe'
    id='get-idle-users-num-1'
    to='shakespeare.lit'
    type='set'
    xml:lang='en'&gt;
  &lt;command xmlns='http://jabber.org/protocol/commands'
           action='execute'
           node='http://jabber.org/protocol/admin#get-idle-users-num'/&gt;
&lt;/iq&gt;
</pre></div>
    <p class="" style="">Unless an error occurs (see the <a href="#errors">Error Handling</a> section below), the service SHOULD simply return the number of idle users.</p>
    <p class="caption"><a name="example-58" id="example-58"></a>Example 58. Service Informs Admin of Completion</p><div class="indent"><pre class="prettyprint">
&lt;iq from='shakespeare.lit'
    id='get-idle-users-num-1'
    to='bard@shakespeare.lit/globe'
    type='result'
    xml:lang='en'&gt;
  &lt;command xmlns='http://jabber.org/protocol/commands'
           node='http://jabber.org/protocol/admin#get-idle-users-num'
           sessionid='get-online-users-num:20040408T0337Z'
           status='completed'&gt;
    &lt;x xmlns='jabber:x:data' type='result'&gt;
      &lt;field type='hidden' var='FORM_TYPE'&gt;
        &lt;value&gt;http://jabber.org/protocol/admin&lt;/value&gt;
      &lt;/field&gt;
      &lt;field label='The number of idle users'
             var='idleusersnum'&gt;
        &lt;value&gt;13&lt;/value&gt;
      &lt;/field&gt;
    &lt;/x&gt;
  &lt;/command&gt;
&lt;/iq&gt;
</pre></div>
  </div>
  <div class="indent"><h3>4.18 <a name="get-registered-users-list" id="get-registered-users-list">Get List of Registered Users</a></h3>
    <p class="" style="">On a server or service without many registered users, it may be helpful to enable an administrator to retrieve a list of all registered users. The service may need to truncate the result-set, since it could be quite large (however, any ability to limit or page through the result-set is outside the scope of this document). The command node for this use case SHOULD be "http://jabber.org/protocol/admin#get-registered-users-list".</p>
    <p class="" style="">A sample protocol flow for this use case is shown below.</p>
    <p class="caption"><a name="example-59" id="example-59"></a>Example 59. Admin Requests List of Registered Users</p><div class="indent"><pre class="prettyprint">
&lt;iq from='bard@shakespeare.lit/globe'
    id='get-registered-users-list-1'
    to='shakespeare.lit'
    type='set'
    xml:lang='en'&gt;
  &lt;command xmlns='http://jabber.org/protocol/commands'
           action='execute'
           node='http://jabber.org/protocol/admin#get-registered-users-list'/&gt;
&lt;/iq&gt;
</pre></div>
    <p class="" style="">Unless an error occurs (see the <a href="#errors">Error Handling</a> section below), the service SHOULD do one of the following:</p>
    <ol start="" class="" style="">
      <li class="" style="">If there are not many registered users, the service MAY simply return the list of registered users.</li>
      <li class="" style="">However, the service MAY also return a form so that the admin can specify more detailed information about the search (e.g., number of users to show).</li>
    </ol>
    <p class="caption"><a name="example-60" id="example-60"></a>Example 60. Service Returns Get Registered Users Form to Admin</p><div class="indent"><pre class="prettyprint">
&lt;iq from='shakespeare.lit'
    id='get-registered-users-list-1'
    to='bard@shakespeare.lit/globe'
    type='result'
    xml:lang='en'&gt;
  &lt;command xmlns='http://jabber.org/protocol/commands'
           node='http://jabber.org/protocol/admin#get-registered-users-list'
           sessionid='get-registered-users-list:20040408T0337Z'
           status='executing'&gt;
    &lt;x xmlns='jabber:x:data' type='form'&gt;
      &lt;title&gt;Requesting List of Registered Users&lt;/title&gt;
      &lt;instructions&gt;
          Fill out this form to request the registered users
	  of this service.
      &lt;/instructions&gt;
      &lt;field type='hidden' var='FORM_TYPE'&gt;
        &lt;value&gt;http://jabber.org/protocol/admin&lt;/value&gt;
      &lt;/field&gt;
      &lt;field label='Maximum number of items to show'
             type='list-single'
             var='max_items'&gt;
        &lt;option label='25'&gt;&lt;value&gt;25&lt;/value&gt;&lt;/option&gt;
        &lt;option label='50'&gt;&lt;value&gt;50&lt;/value&gt;&lt;/option&gt;
        &lt;option label='75'&gt;&lt;value&gt;75&lt;/value&gt;&lt;/option&gt;
        &lt;option label='100'&gt;&lt;value&gt;100&lt;/value&gt;&lt;/option&gt;
        &lt;option label='150'&gt;&lt;value&gt;150&lt;/value&gt;&lt;/option&gt;
        &lt;option label='200'&gt;&lt;value&gt;200&lt;/value&gt;&lt;/option&gt;
        &lt;option label='None'&gt;&lt;value&gt;none&lt;/value&gt;&lt;/option&gt;
      &lt;/field&gt;
    &lt;/x&gt;
  &lt;/command&gt;
&lt;/iq&gt;
</pre></div>
    <p class="caption"><a name="example-61" id="example-61"></a>Example 61. Admin Submits Get Registered Users Form to Service</p><div class="indent"><pre class="prettyprint">
&lt;iq from='bard@shakespeare.lit/globe'
    id='get-registered-users-list-2'
    to='shakespeare.lit'
    type='set'
    xml:lang='en'&gt;
  &lt;command xmlns='http://jabber.org/protocol/commands'
           node='http://jabber.org/protocol/admin#get-registered-users-list'
           sessionid='get-registered-users-list:20040408T0337Z'&gt;
    &lt;x xmlns='jabber:x:data' type='submit'&gt;
      &lt;field type='hidden' var='FORM_TYPE'&gt;
        &lt;value&gt;http://jabber.org/protocol/admin&lt;/value&gt;
      &lt;/field&gt;
      &lt;field var='max_items'&gt;
        &lt;value&gt;100&lt;/value&gt;
      &lt;/field&gt;
    &lt;/x&gt;
  &lt;/command&gt;
&lt;/iq&gt;
</pre></div>
    <p class="caption"><a name="example-62" id="example-62"></a>Example 62. Service Informs Admin of Completion</p><div class="indent"><pre class="prettyprint">
&lt;iq from='shakespeare.lit'
    id='get-registered-users-list-2'
    to='bard@shakespeare.lit/globe'
    type='result'
    xml:lang='en'&gt;
  &lt;command xmlns='http://jabber.org/protocol/commands'
           node='http://jabber.org/protocol/admin#get-registered-users-list'
           sessionid='get-registered-users:20040408T0337Z'
           status='completed'&gt;
    &lt;x xmlns='jabber:x:data' type='form'&gt;
      &lt;field type='hidden' var='FORM_TYPE'&gt;
        &lt;value&gt;http://jabber.org/protocol/admin&lt;/value&gt;
      &lt;/field&gt;
      &lt;field label='The list of all users'
             var='registereduserjids'&gt;
        &lt;value&gt;bernardo@shakespeare.lit&lt;/value&gt;
        &lt;value&gt;bard@shakespeare.lit&lt;/value&gt;
        &lt;value&gt;cordelia@shakespeare.lit&lt;/value&gt;
        &lt;value&gt;crone1@shakespeare.lit&lt;/value&gt;
        &lt;value&gt;emilia@shakespeare.lit&lt;/value&gt;
        &lt;value&gt;francisco@shakespeare.lit&lt;/value&gt;
        &lt;value&gt;goneril@shakespeare.lit&lt;/value&gt;
        &lt;value&gt;hag66@shakespeare.lit&lt;/value&gt;
        &lt;value&gt;hecate@shakespeare.lit&lt;/value&gt;
        &lt;value&gt;iago@shakespeare.lit&lt;/value&gt;
        &lt;value&gt;kingclaudius@shakespeare.lit&lt;/value&gt;
        &lt;value&gt;kinglear@shakespeare.lit&lt;/value&gt;
        &lt;value&gt;laertes@shakespeare.lit&lt;/value&gt;
        &lt;value&gt;macbeth@shakespeare.li&lt;/value&gt;
        &lt;value&gt;mercutio@shakespeare.lit&lt;/value&gt;
        &lt;value&gt;nestor@shakespeare.lit&lt;/value&gt;
        &lt;value&gt;northumberland@shakespeare.lit&lt;/value&gt;
        &lt;value&gt;painter@shakespeare.lit&lt;/value&gt;
        &lt;value&gt;regan@shakespeare.lit&lt;/value&gt;
        &lt;value&gt;timon@shakespeare.lit&lt;/value&gt;
        &lt;value&gt;wiccarocks@shakespeare.lit&lt;/value&gt;
      &lt;/field&gt;
    &lt;/x&gt;
  &lt;/command&gt;
&lt;/iq&gt;
</pre></div>
    <p class="" style="">The service MAY return an error (rather than a list) if the number of items is excessive or the max_items value is unnacceptable.</p>
    <p class="" style="">The service MAY specify additional fields that restrict the scope of the user list (e.g., regular expression matching for Jabber IDs), and such fields MAY be registered in the future with the XMPP Registrar; however, such fields are not defined herein.</p>
  </div>
  <div class="indent"><h3>4.19 <a name="get-disabled-users-list" id="get-disabled-users-list">Get List of Disabled Users</a></h3>
    <p class="" style="">It may be helpful to enable an administrator to retrieve a list of all disabled users. The service may need to truncate the result-set, since it could be quite large (however, any ability to limit or page through the result-set is outside the scope of this document). The command node for this use case SHOULD be "http://jabber.org/protocol/admin#get-disabled-users-list".</p>
    <p class="" style="">A sample protocol flow for this use case is shown below.</p>
    <p class="caption"><a name="example-63" id="example-63"></a>Example 63. Admin Requests List of Disabled Users</p><div class="indent"><pre class="prettyprint">
&lt;iq from='bard@shakespeare.lit/globe'
    id='get-disabled-users-list-1'
    to='shakespeare.lit'
    type='set'
    xml:lang='en'&gt;
  &lt;command xmlns='http://jabber.org/protocol/commands'
           action='execute'
           node='http://jabber.org/protocol/admin#get-disabled-users-list'/&gt;
&lt;/iq&gt;
</pre></div>
    <p class="" style="">Unless an error occurs (see the <a href="#errors">Error Handling</a> section below), the service SHOULD do one of the following:</p>
    <ol start="" class="" style="">
      <li class="" style="">If there are not many disabled users, the service MAY simply return the list of disabled users.</li>
      <li class="" style="">However, the service MAY also return a form so that the admin can specify more detailed information about the search (e.g., number of users to show).</li>
    </ol>
    <p class="caption"><a name="example-64" id="example-64"></a>Example 64. Service Returns Get Disabled Users Form to Admin</p><div class="indent"><pre class="prettyprint">
&lt;iq from='shakespeare.lit'
    id='get-disabled-users-list-1'
    to='bard@shakespeare.lit/globe'
    type='result'
    xml:lang='en'&gt;
  &lt;command xmlns='http://jabber.org/protocol/commands'
           node='http://jabber.org/protocol/admin#get-disabled-users-list'
           sessionid='get-disabled-users-list:20040408T0337Z'
           status='executing'&gt;
    &lt;x xmlns='jabber:x:data' type='form'&gt;
      &lt;title&gt;Requesting List of Disabled Users&lt;/title&gt;
      &lt;instructions&gt;
          Fill out this form to request the disabled users
	  of this service.
      &lt;/instructions&gt;
      &lt;field type='hidden' var='FORM_TYPE'&gt;
        &lt;value&gt;http://jabber.org/protocol/admin&lt;/value&gt;
      &lt;/field&gt;
      &lt;field label='Maximum number of items to show'
             type='list-single'
             var='max_items'&gt;
        &lt;option label='25'&gt;&lt;value&gt;25&lt;/value&gt;&lt;/option&gt;
        &lt;option label='50'&gt;&lt;value&gt;50&lt;/value&gt;&lt;/option&gt;
        &lt;option label='75'&gt;&lt;value&gt;75&lt;/value&gt;&lt;/option&gt;
        &lt;option label='100'&gt;&lt;value&gt;100&lt;/value&gt;&lt;/option&gt;
        &lt;option label='150'&gt;&lt;value&gt;150&lt;/value&gt;&lt;/option&gt;
        &lt;option label='200'&gt;&lt;value&gt;200&lt;/value&gt;&lt;/option&gt;
        &lt;option label='None'&gt;&lt;value&gt;none&lt;/value&gt;&lt;/option&gt;
      &lt;/field&gt;
    &lt;/x&gt;
  &lt;/command&gt;
&lt;/iq&gt;
</pre></div>
    <p class="caption"><a name="example-65" id="example-65"></a>Example 65. Admin Submits Get Disabled Users Form to Service</p><div class="indent"><pre class="prettyprint">
&lt;iq from='bard@shakespeare.lit/globe'
    id='get-disabled-users-list-2'
    to='shakespeare.lit'
    type='set'
    xml:lang='en'&gt;
  &lt;command xmlns='http://jabber.org/protocol/commands'
           node='http://jabber.org/protocol/admin#get-disabled-users-list'
           sessionid='get-disabled-users-list:20040408T0337Z'&gt;
    &lt;x xmlns='jabber:x:data' type='submit'&gt;
      &lt;field type='hidden' var='FORM_TYPE'&gt;
        &lt;value&gt;http://jabber.org/protocol/admin&lt;/value&gt;
      &lt;/field&gt;
      &lt;field var='max_items'&gt;
        &lt;value&gt;100&lt;/value&gt;
      &lt;/field&gt;
    &lt;/x&gt;
  &lt;/command&gt;
&lt;/iq&gt;
</pre></div>
    <p class="caption"><a name="example-66" id="example-66"></a>Example 66. Service Informs Admin of Completion</p><div class="indent"><pre class="prettyprint">
&lt;iq from='shakespeare.lit'
    id='get-disabled-users-list-2'
    to='bard@shakespeare.lit/globe'
    type='result'
    xml:lang='en'&gt;
  &lt;command xmlns='http://jabber.org/protocol/commands'
           node='http://jabber.org/protocol/admin#get-disabled-users-list'
           sessionid='get-disabled-users:20040408T0337Z'
           status='completed'&gt;
    &lt;x xmlns='jabber:x:data' type='result'&gt;
      &lt;field type='hidden' var='FORM_TYPE'&gt;
        &lt;value&gt;http://jabber.org/protocol/admin&lt;/value&gt;
      &lt;/field&gt;
      &lt;field label='The list of all disabled users'
             var='disableduserjids'&gt;
        &lt;value&gt;bernardo@shakespeare.lit&lt;/value&gt;
        &lt;value&gt;iago@shakespeare.lit&lt;/value&gt;
      &lt;/field&gt;
    &lt;/x&gt;
  &lt;/command&gt;
&lt;/iq&gt;
</pre></div>
    <p class="" style="">The service MAY return an error (rather than a list) if the number of items is excessive or the max_items value is unnacceptable.</p>
    <p class="" style="">The service MAY specify additional fields that restrict the scope of the user list (e.g., regular expression matching for Jabber IDs), and such fields MAY be registered in the future with the XMPP Registrar; however, such fields are not defined herein.</p>
  </div>
  <div class="indent"><h3>4.20 <a name="get-online-users-list" id="get-online-users-list">Get List of Online Users</a></h3>
    <p class="" style="">It may be helpful to enable an administrator to retrieve a list of all online users. Because the number of online users may be quite large, the service may need to truncate the result-set, since it could be quite large (however, any ability to limit or page through the result-set is outside the scope of this document). The command node for this use case SHOULD be "http://jabber.org/protocol/admin#get-online-users-list".</p>
    <p class="" style="">A sample protocol flow for this use case is shown below.</p>
    <p class="caption"><a name="example-67" id="example-67"></a>Example 67. Admin Requests List of Online Users</p><div class="indent"><pre class="prettyprint">
&lt;iq from='bard@shakespeare.lit/globe'
    id='get-online-users-list-1'
    to='shakespeare.lit'
    type='set'
    xml:lang='en'&gt;
  &lt;command xmlns='http://jabber.org/protocol/commands'
           action='execute'
           node='http://jabber.org/protocol/admin#get-online-users-list'/&gt;
&lt;/iq&gt;
</pre></div>
    <p class="" style="">Unless an error occurs (see the <a href="#errors">Error Handling</a> section below), the service SHOULD do one of the following:</p>
    <ol start="" class="" style="">
      <li class="" style="">If there are not many online users, the service MAY simply return the list of online users.</li>
      <li class="" style="">However, the service MAY also return a form so that the admin can specify more detailed information about the search (e.g., number of users to show).</li>
    </ol>
    <p class="caption"><a name="example-68" id="example-68"></a>Example 68. Service Returns Get Online Users Form to Admin</p><div class="indent"><pre class="prettyprint">
&lt;iq from='shakespeare.lit'
    id='get-online-users-list-1'
    to='bard@shakespeare.lit/globe'
    type='result'
    xml:lang='en'&gt;
  &lt;command xmlns='http://jabber.org/protocol/commands'
           node='http://jabber.org/protocol/admin#get-online-users-list'
           sessionid='get-online-users-list:20040408T0337Z'
           status='executing'&gt;
    &lt;x xmlns='jabber:x:data' type='form'&gt;
      &lt;title&gt;Requesting List of Online Users&lt;/title&gt;
      &lt;instructions&gt;
          Fill out this form to request the online users
	  of this service.
      &lt;/instructions&gt;
      &lt;field type='hidden' var='FORM_TYPE'&gt;
        &lt;value&gt;http://jabber.org/protocol/admin&lt;/value&gt;
      &lt;/field&gt;
      &lt;field label='Maximum number of items to show'
             type='list-single'
             var='max_items'&gt;
        &lt;option label='25'&gt;&lt;value&gt;25&lt;/value&gt;&lt;/option&gt;
        &lt;option label='50'&gt;&lt;value&gt;50&lt;/value&gt;&lt;/option&gt;
        &lt;option label='75'&gt;&lt;value&gt;75&lt;/value&gt;&lt;/option&gt;
        &lt;option label='100'&gt;&lt;value&gt;100&lt;/value&gt;&lt;/option&gt;
        &lt;option label='150'&gt;&lt;value&gt;150&lt;/value&gt;&lt;/option&gt;
        &lt;option label='200'&gt;&lt;value&gt;200&lt;/value&gt;&lt;/option&gt;
        &lt;option label='None'&gt;&lt;value&gt;none&lt;/value&gt;&lt;/option&gt;
      &lt;/field&gt;
    &lt;/x&gt;
  &lt;/command&gt;
&lt;/iq&gt;
</pre></div>
    <p class="caption"><a name="example-69" id="example-69"></a>Example 69. Admin Submits Get Online Users Form to Service</p><div class="indent"><pre class="prettyprint">
&lt;iq from='bard@shakespeare.lit/globe'
    id='get-online-users-list-2'
    to='shakespeare.lit'
    type='set'
    xml:lang='en'&gt;
  &lt;command xmlns='http://jabber.org/protocol/commands'
           node='http://jabber.org/protocol/admin#get-online-users-list'
           sessionid='get-online-users-list:20040408T0337Z'&gt;
    &lt;x xmlns='jabber:x:data' type='submit'&gt;
      &lt;field type='hidden' var='FORM_TYPE'&gt;
        &lt;value&gt;http://jabber.org/protocol/admin&lt;/value&gt;
      &lt;/field&gt;
      &lt;field var='max_items'&gt;
        &lt;value&gt;100&lt;/value&gt;
      &lt;/field&gt;
    &lt;/x&gt;
  &lt;/command&gt;
&lt;/iq&gt;
</pre></div>
    <p class="caption"><a name="example-70" id="example-70"></a>Example 70. Service Informs Admin of Completion</p><div class="indent"><pre class="prettyprint">
&lt;iq from='shakespeare.lit'
    id='get-online-users-list-2'
    to='bard@shakespeare.lit/globe'
    type='result'
    xml:lang='en'&gt;
  &lt;command xmlns='http://jabber.org/protocol/commands'
           node='http://jabber.org/protocol/admin#get-online-users-list'
           sessionid='get-online-users:20040408T0337Z'
           status='completed'&gt;
    &lt;x xmlns='jabber:x:data' type='result'&gt;
      &lt;field type='hidden' var='FORM_TYPE'&gt;
        &lt;value&gt;http://jabber.org/protocol/admin&lt;/value&gt;
      &lt;/field&gt;
      &lt;field label='The list of all online users'
             var='onlineuserjids'&gt;
        &lt;value&gt;bard@shakespeare.lit&lt;/value&gt;
        &lt;value&gt;cordelia@shakespeare.lit&lt;/value&gt;
        &lt;value&gt;crone1@shakespeare.lit&lt;/value&gt;
        &lt;value&gt;goneril@shakespeare.lit&lt;/value&gt;
        &lt;value&gt;hag66@shakespeare.lit&lt;/value&gt;
        &lt;value&gt;hecate@shakespeare.lit&lt;/value&gt;
        &lt;value&gt;kinglear@shakespeare.lit&lt;/value&gt;
        &lt;value&gt;macbeth@shakespeare.li&lt;/value&gt;
        &lt;value&gt;mercutio@shakespeare.lit&lt;/value&gt;
        &lt;value&gt;northumberland@shakespeare.lit&lt;/value&gt;
        &lt;value&gt;painter@shakespeare.lit&lt;/value&gt;
        &lt;value&gt;wiccarocks@shakespeare.lit&lt;/value&gt;
      &lt;/field&gt;
    &lt;/x&gt;
  &lt;/command&gt;
&lt;/iq&gt;
</pre></div>
    <p class="" style="">The service MAY return an error (rather than a list) if the number of items is excessive or the max_items value is unnacceptable.</p>
    <p class="" style="">The service MAY specify additional fields that restrict the scope of the user list (e.g., regular expression matching for Jabber IDs), and such fields MAY be registered in the future with the XMPP Registrar; however, such fields are not defined herein.</p>
  </div>
  <div class="indent"><h3>4.21 <a name="get-active-users-list" id="get-active-users-list">Get List of Active Users</a></h3>
    <p class="" style="">It may be helpful to enable an administrator to retrieve a list of all active users. Because the number of active users may be quite large, the service may need to truncate the result-set, since it could be quite large (however, any ability to limit or page through the result-set is outside the scope of this document). The command node for this use case SHOULD be "http://jabber.org/protocol/admin#get-active-users".</p>
    <p class="" style="">A sample protocol flow for this use case is shown below.</p>
    <p class="caption"><a name="example-71" id="example-71"></a>Example 71. Admin Requests List of Active Users</p><div class="indent"><pre class="prettyprint">
&lt;iq from='bard@shakespeare.lit/globe'
    id='get-active-users-1'
    to='shakespeare.lit'
    type='set'
    xml:lang='en'&gt;
  &lt;command xmlns='http://jabber.org/protocol/commands'
           action='execute'
           node='http://jabber.org/protocol/admin#get-active-users'/&gt;
&lt;/iq&gt;
</pre></div>
    <p class="" style="">Unless an error occurs (see the <a href="#errors">Error Handling</a> section below), the service SHOULD do one of the following:</p>
    <ol start="" class="" style="">
      <li class="" style="">If there are not many active users, the service MAY simply return the list of active users.</li>
      <li class="" style="">However, the service MAY also return a form so that the admin can specify more detailed information about the search (e.g., number of users to show).</li>
    </ol>
    <p class="caption"><a name="example-72" id="example-72"></a>Example 72. Service Returns Get Active Users Form to Admin</p><div class="indent"><pre class="prettyprint">
&lt;iq from='shakespeare.lit'
    id='get-active-users-1'
    to='bard@shakespeare.lit/globe'
    type='result'
    xml:lang='en'&gt;
  &lt;command xmlns='http://jabber.org/protocol/commands'
           node='http://jabber.org/protocol/admin#get-active-users'
           sessionid='get-active-users:20040408T0337Z'
           status='executing'&gt;
    &lt;x xmlns='jabber:x:data' type='form'&gt;
      &lt;title&gt;Requesting List of Active Users&lt;/title&gt;
      &lt;instructions&gt;
          Fill out this form to request the active users
	  of this service.
      &lt;/instructions&gt;
      &lt;field type='hidden' var='FORM_TYPE'&gt;
        &lt;value&gt;http://jabber.org/protocol/admin&lt;/value&gt;
      &lt;/field&gt;
      &lt;field label='Maximum number of items to show'
             type='list-single'
             var='max_items'&gt;
        &lt;option label='25'&gt;&lt;value&gt;25&lt;/value&gt;&lt;/option&gt;
        &lt;option label='50'&gt;&lt;value&gt;50&lt;/value&gt;&lt;/option&gt;
        &lt;option label='75'&gt;&lt;value&gt;75&lt;/value&gt;&lt;/option&gt;
        &lt;option label='100'&gt;&lt;value&gt;100&lt;/value&gt;&lt;/option&gt;
        &lt;option label='150'&gt;&lt;value&gt;150&lt;/value&gt;&lt;/option&gt;
        &lt;option label='200'&gt;&lt;value&gt;200&lt;/value&gt;&lt;/option&gt;
        &lt;option label='None'&gt;&lt;value&gt;none&lt;/value&gt;&lt;/option&gt;
      &lt;/field&gt;
    &lt;/x&gt;
  &lt;/command&gt;
&lt;/iq&gt;
</pre></div>
    <p class="caption"><a name="example-73" id="example-73"></a>Example 73. Admin Submits Get Active Users Form to Service</p><div class="indent"><pre class="prettyprint">
&lt;iq from='bard@shakespeare.lit/globe'
    id='get-active-users-2'
    to='shakespeare.lit'
    type='set'
    xml:lang='en'&gt;
  &lt;command xmlns='http://jabber.org/protocol/commands'
           node='http://jabber.org/protocol/admin#get-active-users'
           sessionid='get-active-users:20040408T0337Z'&gt;
    &lt;x xmlns='jabber:x:data' type='submit'&gt;
      &lt;field type='hidden' var='FORM_TYPE'&gt;
        &lt;value&gt;http://jabber.org/protocol/admin&lt;/value&gt;
      &lt;/field&gt;
      &lt;field var='max_items'&gt;
        &lt;value&gt;100&lt;/value&gt;
      &lt;/field&gt;
    &lt;/x&gt;
  &lt;/command&gt;
&lt;/iq&gt;
</pre></div>
    <p class="caption"><a name="example-74" id="example-74"></a>Example 74. Service Informs Admin of Completion</p><div class="indent"><pre class="prettyprint">
&lt;iq from='shakespeare.lit'
    id='get-active-users-2'
    to='bard@shakespeare.lit/globe'
    type='result'
    xml:lang='en'&gt;
  &lt;command xmlns='http://jabber.org/protocol/commands'
           node='http://jabber.org/protocol/admin#get-active-users'
           sessionid='get-active-users:20040408T0337Z'
           status='completed'&gt;
    &lt;x xmlns='jabber:x:data' type='result'&gt;
      &lt;field type='hidden' var='FORM_TYPE'&gt;
        &lt;value&gt;http://jabber.org/protocol/admin&lt;/value&gt;
      &lt;/field&gt;
      &lt;field label='The list of active users'
             var='activeuserjids'&gt;
        &lt;value&gt;bard@shakespeare.lit&lt;/value&gt;
        &lt;value&gt;crone1@shakespeare.lit&lt;/value&gt;
        &lt;value&gt;hag66@shakespeare.lit&lt;/value&gt;
        &lt;value&gt;hecate@shakespeare.lit&lt;/value&gt;
        &lt;value&gt;wiccarocks@shakespeare.lit&lt;/value&gt;
      &lt;/field&gt;
    &lt;/x&gt;
  &lt;/command&gt;
&lt;/iq&gt;
</pre></div>
    <p class="" style="">The service MAY return an error (rather than a list) if the number of items is excessive or the max_items value is unnacceptable.</p>
    <p class="" style="">The service MAY specify additional fields that restrict the scope of the user list (e.g., regular expression matching for Jabber IDs), and such fields MAY be registered in the future with the XMPP Registrar; however, such fields are not defined herein.</p>
  </div>
  <div class="indent"><h3>4.22 <a name="get-idle-users-list" id="get-idle-users-list">Get List of Idle Users</a></h3>
    <p class="" style="">It may be helpful to enable an administrator to retrieve a list of all idle users. Because the number of idle users may be quite large, the service may need to truncate the result-set, since it could be quite large (however, any ability to limit or page through the result-set is outside the scope of this document). The command node for this use case SHOULD be "http://jabber.org/protocol/admin#get-idle-users".</p>
    <p class="" style="">A sample protocol flow for this use case is shown below.</p>
    <p class="caption"><a name="example-75" id="example-75"></a>Example 75. Admin Requests List of Active Users</p><div class="indent"><pre class="prettyprint">
&lt;iq from='bard@shakespeare.lit/globe'
    id='get-idle-users-1'
    to='shakespeare.lit'
    type='set'
    xml:lang='en'&gt;
  &lt;command xmlns='http://jabber.org/protocol/commands'
           action='execute'
           node='http://jabber.org/protocol/admin#get-idle-users'/&gt;
&lt;/iq&gt;
</pre></div>
    <p class="" style="">Unless an error occurs (see the <a href="#errors">Error Handling</a> section below), the service SHOULD do one of the following:</p>
    <ol start="" class="" style="">
      <li class="" style="">If there are not many idle users, the service MAY simply return the list of idle users.</li>
      <li class="" style="">However, the service MAY also return a form so that the admin can specify more detailed information about the search (e.g., number of users to show).</li>
    </ol>
    <p class="caption"><a name="example-76" id="example-76"></a>Example 76. Service Returns Get Idle Users Form to Admin</p><div class="indent"><pre class="prettyprint">
&lt;iq from='shakespeare.lit'
    id='get-idle-users-1'
    to='bard@shakespeare.lit/globe'
    type='result'
    xml:lang='en'&gt;
  &lt;command xmlns='http://jabber.org/protocol/commands'
           node='http://jabber.org/protocol/admin#get-idle-users'
           sessionid='get-idle-users:20040408T0337Z'
           status='executing'&gt;
    &lt;x xmlns='jabber:x:data' type='form'&gt;
      &lt;title&gt;Requesting List of Active Users&lt;/title&gt;
      &lt;instructions&gt;
          Fill out this form to request the idle users
	  of this service.
      &lt;/instructions&gt;
      &lt;field type='hidden' var='FORM_TYPE'&gt;
        &lt;value&gt;http://jabber.org/protocol/admin&lt;/value&gt;
      &lt;/field&gt;
      &lt;field label='Maximum number of items to show'
             type='list-single'
             var='max_items'&gt;
        &lt;option label='25'&gt;&lt;value&gt;25&lt;/value&gt;&lt;/option&gt;
        &lt;option label='50'&gt;&lt;value&gt;50&lt;/value&gt;&lt;/option&gt;
        &lt;option label='75'&gt;&lt;value&gt;75&lt;/value&gt;&lt;/option&gt;
        &lt;option label='100'&gt;&lt;value&gt;100&lt;/value&gt;&lt;/option&gt;
        &lt;option label='150'&gt;&lt;value&gt;150&lt;/value&gt;&lt;/option&gt;
        &lt;option label='200'&gt;&lt;value&gt;200&lt;/value&gt;&lt;/option&gt;
        &lt;option label='None'&gt;&lt;value&gt;none&lt;/value&gt;&lt;/option&gt;
      &lt;/field&gt;
    &lt;/x&gt;
  &lt;/command&gt;
&lt;/iq&gt;
</pre></div>
    <p class="caption"><a name="example-77" id="example-77"></a>Example 77. Admin Submits Get Idle Users Form to Service</p><div class="indent"><pre class="prettyprint">
&lt;iq from='bard@shakespeare.lit/globe'
    id='get-idle-users-2'
    to='shakespeare.lit'
    type='set'
    xml:lang='en'&gt;
  &lt;command xmlns='http://jabber.org/protocol/commands'
           node='http://jabber.org/protocol/admin#get-idle-users'
           sessionid='get-idle-users:20040408T0337Z'&gt;
    &lt;x xmlns='jabber:x:data' type='submit'&gt;
      &lt;field type='hidden' var='FORM_TYPE'&gt;
        &lt;value&gt;http://jabber.org/protocol/admin&lt;/value&gt;
      &lt;/field&gt;
      &lt;field var='max_items'&gt;
        &lt;value&gt;100&lt;/value&gt;
      &lt;/field&gt;
    &lt;/x&gt;
  &lt;/command&gt;
&lt;/iq&gt;
</pre></div>
    <p class="caption"><a name="example-78" id="example-78"></a>Example 78. Service Informs Admin of Completion</p><div class="indent"><pre class="prettyprint">
&lt;iq from='shakespeare.lit'
    id='get-idle-users-2'
    to='bard@shakespeare.lit/globe'
    type='result'
    xml:lang='en'&gt;
  &lt;command xmlns='http://jabber.org/protocol/commands'
           node='http://jabber.org/protocol/admin#get-idle-users'
           sessionid='get-active-users:20040408T0337Z'
           status='completed'&gt;
    &lt;x xmlns='jabber:x:data' type='result'&gt;
      &lt;field type='hidden' var='FORM_TYPE'&gt;
        &lt;value&gt;http://jabber.org/protocol/admin&lt;/value&gt;
      &lt;/field&gt;
      &lt;field label='The list of idle users'
             var='activeuserjids'&gt;
        &lt;value&gt;cordelia@shakespeare.lit&lt;/value&gt;
        &lt;value&gt;goneril@shakespeare.lit&lt;/value&gt;
        &lt;value&gt;kinglear@shakespeare.lit&lt;/value&gt;
        &lt;value&gt;macbeth@shakespeare.li&lt;/value&gt;
        &lt;value&gt;mercutio@shakespeare.lit&lt;/value&gt;
        &lt;value&gt;northumberland@shakespeare.lit&lt;/value&gt;
        &lt;value&gt;painter@shakespeare.lit&lt;/value&gt;
      &lt;/field&gt;
    &lt;/x&gt;
  &lt;/command&gt;
&lt;/iq&gt;
</pre></div>
    <p class="" style="">The service MAY return an error (rather than a list) if the number of items is excessive or the max_items value is unnacceptable.</p>
    <p class="" style="">The service MAY specify additional fields that restrict the scope of the user list (e.g., regular expression matching for Jabber IDs), and such fields MAY be registered in the future with the XMPP Registrar; however, such fields are not defined herein.</p>
  </div>
  <div class="indent"><h3>4.23 <a name="announce" id="announce">Send Announcement to Online Users</a></h3>
    <p class="" style="">Administrators of some existing Jabber servers have found it useful to be able to send an announcement to all online users of the server (e.g., to announce a server shutdown); this concept can be extended to any service (such as a multi-user chat service or a gateway to a foreign IM service). The message shall be sent only to users who currently have a "session" with the service. Obviously there may be latency in sending the message if the number of active users is extremely large. The command node for this use case SHOULD be "http://jabber.org/protocol/admin#announce".</p>
    <p class="" style="">A sample protocol flow for this use case is shown below.</p>
    <p class="caption"><a name="example-79" id="example-79"></a>Example 79. Admin Requests Announcement</p><div class="indent"><pre class="prettyprint">
&lt;iq from='bard@shakespeare.lit/globe'
    id='announce-1'
    to='shakespeare.lit'
    type='set'
    xml:lang='en'&gt;
  &lt;command xmlns='http://jabber.org/protocol/commands'
           action='execute'
           node='http://jabber.org/protocol/admin#announce'/&gt;
&lt;/iq&gt;
</pre></div>
    <p class="" style="">Unless an error occurs (see the <a href="#errors">Error Handling</a> section below), the service SHOULD return the appropriate form.</p>
    <p class="caption"><a name="example-80" id="example-80"></a>Example 80. Service Returns Announce Form to Admin</p><div class="indent"><pre class="prettyprint">
&lt;iq from='shakespeare.lit'
    id='announce-1'
    to='bard@shakespeare.lit/globe'
    type='result'
    xml:lang='en'&gt;
  &lt;command xmlns='http://jabber.org/protocol/commands'
           node='http://jabber.org/protocol/admin#announce'
           sessionid='announce:20040408T0337Z'
           status='executing'&gt;
    &lt;x xmlns='jabber:x:data' type='form'&gt;
      &lt;title&gt;Making an Announcement&lt;/title&gt;
      &lt;instructions&gt;
          Fill out this form to make an announcement to all
          active users of this service.
      &lt;/instructions&gt;
      &lt;field type='hidden' var='FORM_TYPE'&gt;
        &lt;value&gt;http://jabber.org/protocol/admin&lt;/value&gt;
      &lt;/field&gt;
      &lt;field label='Announcement'
             type='text-multi'
             var='announcement'&gt;
        &lt;required/&gt;
      &lt;/field&gt;
    &lt;/x&gt;
  &lt;/command&gt;
&lt;/iq&gt;
</pre></div>
    <p class="caption"><a name="example-81" id="example-81"></a>Example 81. Admin Submits Announce Form to Service</p><div class="indent"><pre class="prettyprint">
&lt;iq from='bard@shakespeare.lit/globe'
    id='announce-2'
    to='shakespeare.lit'
    type='set'
    xml:lang='en'&gt;
  &lt;command xmlns='http://jabber.org/protocol/commands'
           node='http://jabber.org/protocol/admin#announce'
           sessionid='announce:20040408T0337Z'&gt;
    &lt;x xmlns='jabber:x:data' type='submit'&gt;
      &lt;field type='hidden' var='FORM_TYPE'&gt;
        &lt;value&gt;http://jabber.org/protocol/admin&lt;/value&gt;
      &lt;/field&gt;
      &lt;field var='announcement'&gt;
        &lt;value&gt;Attention! This service will be going down for&lt;/value&gt;
        &lt;value&gt;maintenance in 2 minutes. Please log off now!&lt;/value&gt;
        &lt;value&gt;We apologize for the inconvenience.&lt;/value&gt;
      &lt;/field&gt;
    &lt;/x&gt;
  &lt;/command&gt;
&lt;/iq&gt;
</pre></div>
    <p class="caption"><a name="example-82" id="example-82"></a>Example 82. Service Informs Admin of Completion</p><div class="indent"><pre class="prettyprint">
&lt;iq from='shakespeare.lit'
    id='announce-2'
    to='bard@shakespeare.lit/globe'
    type='result'
    xml:lang='en'&gt;
  &lt;command xmlns='http://jabber.org/protocol/commands'
           node='http://jabber.org/protocol/admin#announce'
           sessionid='announce:20040408T0337Z'
           status='completed'/&gt;
&lt;/iq&gt;
</pre></div>
  </div>
  <div class="indent"><h3>4.24 <a name="set-motd" id="set-motd">Set Message of the Day</a></h3>
    <p class="" style="">Administrators of some existing Jabber servers have found it useful to be able to send a "message of the day" that is delivered to any user who logs in to the server that day (e.g., to announce service changes);
       [<a href="#nt-idm412">9</a>]
     this concept can be extended to any service (such as a multi-user chat service or a gateway to a foreign IM service). The command node for this use case SHOULD be "http://jabber.org/protocol/admin#set-motd".</p>
    <p class="" style="">A sample protocol flow for this use case is shown below.</p>
    <p class="caption"><a name="example-83" id="example-83"></a>Example 83. Admin Sets Message of the Day</p><div class="indent"><pre class="prettyprint">
&lt;iq from='bard@shakespeare.lit/globe'
    id='set-motd-1'
    to='shakespeare.lit'
    type='set'
    xml:lang='en'&gt;
  &lt;command xmlns='http://jabber.org/protocol/commands'
           action='execute'
           node='http://jabber.org/protocol/admin#set-motd'/&gt;
&lt;/iq&gt;
</pre></div>
    <p class="" style="">Unless an error occurs (see the <a href="#errors">Error Handling</a> section below), the service SHOULD return the appropriate form.</p>
    <p class="caption"><a name="example-84" id="example-84"></a>Example 84. Service Returns MOTD Form to Admin</p><div class="indent"><pre class="prettyprint">
&lt;iq from='shakespeare.lit'
    id='set-motd-1'
    to='bard@shakespeare.lit/globe'
    type='result'
    xml:lang='en'&gt;
  &lt;command xmlns='http://jabber.org/protocol/commands'
           node='http://jabber.org/protocol/admin#set-motd'
           sessionid='set-motd:20040408T0337Z'
           status='executing'&gt;
    &lt;x xmlns='jabber:x:data' type='form'&gt;
      &lt;title&gt;Setting the Message of the Day&lt;/title&gt;
      &lt;instructions&gt;
          Fill out this form to set the message of the day.
      &lt;/instructions&gt;
      &lt;field type='hidden' var='FORM_TYPE'&gt;
        &lt;value&gt;http://jabber.org/protocol/admin&lt;/value&gt;
      &lt;/field&gt;
      &lt;field label='Message of the Day'
             type='text-multi'
             var='motd'&gt;
        &lt;required/&gt;
      &lt;/field&gt;
    &lt;/x&gt;
  &lt;/command&gt;
&lt;/iq&gt;
</pre></div>
    <p class="caption"><a name="example-85" id="example-85"></a>Example 85. Admin Submits MOTD Form to Service</p><div class="indent"><pre class="prettyprint">
&lt;iq from='bard@shakespeare.lit/globe'
    id='set-motd-2'
    to='shakespeare.lit'
    type='set'
    xml:lang='en'&gt;
  &lt;command xmlns='http://jabber.org/protocol/commands'
           node='http://jabber.org/protocol/admin#set-motd'
           sessionid='set-motd:20040408T0337Z'&gt;
    &lt;x xmlns='jabber:x:data' type='submit'&gt;
      &lt;field type='hidden' var='FORM_TYPE'&gt;
        &lt;value&gt;http://jabber.org/protocol/admin&lt;/value&gt;
      &lt;/field&gt;
      &lt;field var='motd'&gt;
        &lt;value&gt;Don&amp;apos;t forget: the grand re-opening of the&lt;/value&gt;
        &lt;value&gt;Globe Theatre will occur tomorrow night.&lt;/value&gt;
        &lt;value&gt;The festivities will begin right after tea&lt;/value&gt;
        &lt;value&gt;and extend far into the night. Don&amp;apos;t miss it!&lt;/value&gt;
        &lt;value&gt;--The Globe Staff&lt;/value&gt;
      &lt;/field&gt;
    &lt;/x&gt;
  &lt;/command&gt;
&lt;/iq&gt;
</pre></div>
    <p class="caption"><a name="example-86" id="example-86"></a>Example 86. Service Informs Admin of Completion</p><div class="indent"><pre class="prettyprint">
&lt;iq from='shakespeare.lit'
    id='set-motd-2'
    to='bard@shakespeare.lit/globe'
    type='result'
    xml:lang='en'&gt;
  &lt;command xmlns='http://jabber.org/protocol/commands'
           node='http://jabber.org/protocol/admin#set-motd'
           sessionid='set-motd:20040408T0337Z'
           status='completed'/&gt;
&lt;/iq&gt;
</pre></div>
  </div>
  <div class="indent"><h3>4.25 <a name="edit-motd" id="edit-motd">Edit Message of the Day</a></h3>
    <p class="" style="">After setting a message of the day, an administrator may want to edit that message (e.g., in order to correct an error). The command node for this use case SHOULD be "http://jabber.org/protocol/admin#edit-motd".</p>
    <p class="" style="">A sample protocol flow for this use case is shown below.</p>
    <p class="caption"><a name="example-87" id="example-87"></a>Example 87. Admin Edits Message of the Day</p><div class="indent"><pre class="prettyprint">
&lt;iq from='bard@shakespeare.lit/globe'
    id='edit-motd-1'
    to='shakespeare.lit'
    type='set'
    xml:lang='en'&gt;
  &lt;command xmlns='http://jabber.org/protocol/commands'
           action='execute'
           node='http://jabber.org/protocol/admin#edit-motd'/&gt;
&lt;/iq&gt;
</pre></div>
    <p class="" style="">Unless an error occurs (see the <a href="#errors">Error Handling</a> section below), the service SHOULD return the appropriate form, which SHOULD include the current message of the day if one has already been set.</p>
    <p class="caption"><a name="example-88" id="example-88"></a>Example 88. Service Returns MOTD Form to Admin</p><div class="indent"><pre class="prettyprint">
&lt;iq from='shakespeare.lit'
    id='edit-motd-1'
    to='bard@shakespeare.lit/globe'
    type='result'
    xml:lang='en'&gt;
  &lt;command xmlns='http://jabber.org/protocol/commands'
           node='http://jabber.org/protocol/admin#edit-motd'
           sessionid='edit-motd:20040408T0337Z'
           status='executing'&gt;
    &lt;x xmlns='jabber:x:data' type='form'&gt;
      &lt;title&gt;Editing the Message of the Day&lt;/title&gt;
      &lt;instructions&gt;
          Fill out this form to edit the message of the day.
      &lt;/instructions&gt;
      &lt;field type='hidden' var='FORM_TYPE'&gt;
        &lt;value&gt;http://jabber.org/protocol/admin&lt;/value&gt;
      &lt;/field&gt;
      &lt;field label='Message of the Day'
             type='text-multi'
             var='motd'&gt;
        &lt;required/&gt;
        &lt;value&gt;Don&amp;apos;t forget: the grand re-opening of the&lt;/value&gt;
        &lt;value&gt;Globe Theatre will occur tomorrow night.&lt;/value&gt;
        &lt;value&gt;The festivities will begin right after tea&lt;/value&gt;
        &lt;value&gt;and extend far into the night. Don&amp;apos;t miss it!&lt;/value&gt;
        &lt;value&gt;--The Globe Stuff&lt;/value&gt;
      &lt;/field&gt;
    &lt;/x&gt;
  &lt;/command&gt;
&lt;/iq&gt;
</pre></div>
    <p class="caption"><a name="example-89" id="example-89"></a>Example 89. Admin Submits MOTD Form to Service</p><div class="indent"><pre class="prettyprint">
&lt;iq from='bard@shakespeare.lit/globe'
    id='edit-motd-2'
    to='shakespeare.lit'
    type='edit'
    xml:lang='en'&gt;
  &lt;command xmlns='http://jabber.org/protocol/commands'
           node='http://jabber.org/protocol/admin#edit-motd'
           sessionid='edit-motd:20040408T0337Z'&gt;
    &lt;x xmlns='jabber:x:data' type='submit'&gt;
      &lt;field type='hidden' var='FORM_TYPE'&gt;
        &lt;value&gt;http://jabber.org/protocol/admin&lt;/value&gt;
      &lt;/field&gt;
      &lt;field var='motd'&gt;
        &lt;value&gt;Don&amp;apos;t forget: the grand re-opening of the&lt;/value&gt;
        &lt;value&gt;Globe Theatre will occur tomorrow night.&lt;/value&gt;
        &lt;value&gt;The festivities will begin right after tea&lt;/value&gt;
        &lt;value&gt;and extend far into the night. Don&amp;apos;t miss it!&lt;/value&gt;
        &lt;value&gt;--The Globe Staff&lt;/value&gt;
      &lt;/field&gt;
    &lt;/x&gt;
  &lt;/command&gt;
&lt;/iq&gt;
</pre></div>
    <p class="caption"><a name="example-90" id="example-90"></a>Example 90. Service Informs Admin of Completion</p><div class="indent"><pre class="prettyprint">
&lt;iq from='shakespeare.lit'
    id='edit-motd-2'
    to='bard@shakespeare.lit/globe'
    type='result'
    xml:lang='en'&gt;
  &lt;command xmlns='http://jabber.org/protocol/commands'
           node='http://jabber.org/protocol/admin#edit-motd'
           sessionid='edit-motd:20040408T0337Z'
           status='completed'/&gt;
&lt;/iq&gt;
</pre></div>
  </div>
  <div class="indent"><h3>4.26 <a name="delete-motd" id="delete-motd">Delete Message of the Day</a></h3>
    <p class="" style="">Sometimes a previously-set "message of the day" is no longer appropriate and needs to be deleted. The command node for this use case SHOULD be "http://jabber.org/protocol/admin#delete-motd".</p>
    <p class="" style="">A sample protocol flow for this use case is shown below.</p>
    <p class="caption"><a name="example-91" id="example-91"></a>Example 91. Admin Deletes Message of the Day</p><div class="indent"><pre class="prettyprint">
&lt;iq from='bard@shakespeare.lit/globe'
    id='delete-motd-1'
    to='shakespeare.lit'
    type='set'
    xml:lang='en'&gt;
  &lt;command xmlns='http://jabber.org/protocol/commands'
           action='execute'
           node='http://jabber.org/protocol/admin#delete-motd'/&gt;
&lt;/iq&gt;
</pre></div>
    <p class="" style="">Unless an error occurs (see the <a href="#errors">Error Handling</a> section below), the service SHOULD simply delete the message of the day.</p>
    <p class="caption"><a name="example-92" id="example-92"></a>Example 92. Service Informs Admin of Completion</p><div class="indent"><pre class="prettyprint">
&lt;iq from='shakespeare.lit'
    id='delete-motd-2'
    to='bard@shakespeare.lit/globe'
    type='result'
    xml:lang='en'&gt;
  &lt;command xmlns='http://jabber.org/protocol/commands'
           node='http://jabber.org/protocol/admin#delete-motd'
           sessionid='delete-motd:20040408T0337Z'
           status='completed'/&gt;
&lt;/iq&gt;
</pre></div>
  </div>
  <div class="indent"><h3>4.27 <a name="set-welcome" id="set-welcome">Set Welcome Message</a></h3>
    <p class="" style="">Some existing Jabber servers send an informative "welcome message" to newly registered users of the server when they first log in; this concept can be extended to any service (such as a multi-user chat service or a gateway to a foreign IM service). The command node for this use case SHOULD be "http://jabber.org/protocol/admin#set-welcome".</p>
    <p class="" style="">A sample protocol flow for this use case is shown below.</p>
    <p class="caption"><a name="example-93" id="example-93"></a>Example 93. Admin Sets Welcome Message</p><div class="indent"><pre class="prettyprint">
&lt;iq from='bard@shakespeare.lit/globe'
    id='set-welcome-1'
    to='shakespeare.lit'
    type='set'
    xml:lang='en'&gt;
  &lt;command xmlns='http://jabber.org/protocol/commands'
           action='execute'
           node='http://jabber.org/protocol/admin#set-welcome'/&gt;
&lt;/iq&gt;
</pre></div>
    <p class="" style="">Unless an error occurs (see the <a href="#errors">Error Handling</a> section below), the service SHOULD return the appropriate form, which SHOULD include the current welcome message if one has already been set.</p>
    <p class="caption"><a name="example-94" id="example-94"></a>Example 94. Service Returns Welcome Message Form to Admin</p><div class="indent"><pre class="prettyprint">
&lt;iq from='shakespeare.lit'
    id='set-welcome-1'
    to='bard@shakespeare.lit/globe'
    type='result'
    xml:lang='en'&gt;
  &lt;command xmlns='http://jabber.org/protocol/commands'
           node='http://jabber.org/protocol/admin#set-welcome'
           sessionid='set-welcome:20040408T0337Z'
           status='executing'&gt;
    &lt;x xmlns='jabber:x:data' type='form'&gt;
      &lt;title&gt;Setting Welcome Message&lt;/title&gt;
      &lt;instructions&gt;
          Fill out this form to set the welcome message
          for this service.
      &lt;/instructions&gt;
      &lt;field type='hidden' var='FORM_TYPE'&gt;
        &lt;value&gt;http://jabber.org/protocol/admin&lt;/value&gt;
      &lt;/field&gt;
      &lt;field label='Welcome Message'
             type='text-multi'
             var='welcome'&gt;
        &lt;required/&gt;
        &lt;value&gt;Welcome to Shakespeare.lit, your home for&lt;/value&gt;
        &lt;value&gt;instant messaging with a literary touch.&lt;/value&gt;
      &lt;/field&gt;
    &lt;/x&gt;
  &lt;/command&gt;
&lt;/iq&gt;
</pre></div>
    <p class="caption"><a name="example-95" id="example-95"></a>Example 95. Admin Submits Welcome Message Form to Service</p><div class="indent"><pre class="prettyprint">
&lt;iq from='bard@shakespeare.lit/globe'
    id='set-welcome-2'
    to='shakespeare.lit'
    type='set'
    xml:lang='en'&gt;
  &lt;command xmlns='http://jabber.org/protocol/commands'
           node='http://jabber.org/protocol/admin#set-welcome'
           sessionid='set-welcome:20040408T0337Z'&gt;
    &lt;x xmlns='jabber:x:data' type='submit'&gt;
      &lt;field type='hidden' var='FORM_TYPE'&gt;
        &lt;value&gt;http://jabber.org/protocol/admin&lt;/value&gt;
      &lt;/field&gt;
      &lt;field var='welcome'&gt;
        &lt;value&gt;Welcome to Shakespeare.lit, your home for&lt;/value&gt;
        &lt;value&gt;instant messaging with a literary touch.&lt;/value&gt;
        &lt;value&gt;For helpful information about this service,&lt;/value&gt;
        &lt;value&gt;hie thee to http://www.shakespeare.lit/&lt;/value&gt;
      &lt;/field&gt;
    &lt;/x&gt;
  &lt;/command&gt;
&lt;/iq&gt;
</pre></div>
    <p class="caption"><a name="example-96" id="example-96"></a>Example 96. Service Informs Admin of Completion</p><div class="indent"><pre class="prettyprint">
&lt;iq from='shakespeare.lit'
    id='set-welcome-2'
    to='bard@shakespeare.lit/globe'
    type='result'
    xml:lang='en'&gt;
  &lt;command xmlns='http://jabber.org/protocol/commands'
           node='http://jabber.org/protocol/admin#set-welcome'
           sessionid='set-welcome:20040408T0337Z'
           status='completed'/&gt;
&lt;/iq&gt;
</pre></div>
  </div>
  <div class="indent"><h3>4.28 <a name="delete-welcome" id="delete-welcome">Delete Welcome Message</a></h3>
    <p class="" style="">Sometimes a previously-set "welcome message" is no longer appropriate and needs to be deleted. The command node for this use case SHOULD be "http://jabber.org/protocol/admin#delete-welcome".</p>
    <p class="" style="">A sample protocol flow for this use case is shown below.</p>
    <p class="caption"><a name="example-97" id="example-97"></a>Example 97. Admin Deletes Welcome Message</p><div class="indent"><pre class="prettyprint">
&lt;iq from='bard@shakespeare.lit/globe'
    id='delete-welcome-1'
    to='shakespeare.lit'
    type='set'
    xml:lang='en'&gt;
  &lt;command xmlns='http://jabber.org/protocol/commands'
           action='execute'
           node='http://jabber.org/protocol/admin#delete-welcome'/&gt;
&lt;/iq&gt;
</pre></div>
    <p class="" style="">Unless an error occurs (see the <a href="#errors">Error Handling</a> section below), the service SHOULD simply delete the welcome message.</p>
    <p class="caption"><a name="example-98" id="example-98"></a>Example 98. Service Informs Admin of Completion</p><div class="indent"><pre class="prettyprint">
&lt;iq from='shakespeare.lit'
    id='delete-welcome-2'
    to='bard@shakespeare.lit/globe'
    type='result'
    xml:lang='en'&gt;
  &lt;command xmlns='http://jabber.org/protocol/commands'
           node='http://jabber.org/protocol/admin#delete-welcome'
           sessionid='delete-welcome:20040408T0337Z'
           status='completed'/&gt;
&lt;/iq&gt;
</pre></div>
  </div>
  <div class="indent"><h3>4.29 <a name="edit-admin" id="edit-admin">Edit Admin List</a></h3>
    <p class="" style="">An administrator may want to directly edit the list of users who have administrative privileges. Whether there are distinctions between service-level administrators (e.g., owner, admin, moderator), and thus in what types of administrators are allowed to edit administrative privileges, is a matter for the implementation or local service policy and is not specified herein. The command node for this use case SHOULD be "http://jabber.org/protocol/admin#edit-admin".</p>
    <p class="" style="">A sample protocol flow for this use case is shown below.</p>
    <p class="caption"><a name="example-99" id="example-99"></a>Example 99. Admin Requests Editing of Admin List</p><div class="indent"><pre class="prettyprint">
&lt;iq from='bard@shakespeare.lit/globe'
    id='edit-admin-1'
    to='shakespeare.lit'
    type='set'
    xml:lang='en'&gt;
  &lt;command xmlns='http://jabber.org/protocol/commands'
           action='execute'
           node='http://jabber.org/protocol/admin#edit-admin'/&gt;
&lt;/iq&gt;
</pre></div>
    <p class="" style="">Unless an error occurs (see the <a href="#errors">Error Handling</a> section below), the service SHOULD return the appropriate form.</p>
    <p class="caption"><a name="example-100" id="example-100"></a>Example 100. Service Returns Edit Admin List Form to Admin</p><div class="indent"><pre class="prettyprint">
&lt;iq from='shakespeare.lit'
    id='edit-admin-1'
    to='bard@shakespeare.lit/globe'
    type='result'
    xml:lang='en'&gt;
  &lt;command xmlns='http://jabber.org/protocol/commands'
           node='http://jabber.org/protocol/admin#edit-admin'
           sessionid='edit-admin:20040408T0337Z'
           status='executing'&gt;
    &lt;x xmlns='jabber:x:data' type='form'&gt;
      &lt;title&gt;Editing the Admin List&lt;/title&gt;
      &lt;instructions&gt;
          Fill out this form to edit the list of entities who
          have administrative privileges.
      &lt;/instructions&gt;
      &lt;field type='hidden' var='FORM_TYPE'&gt;
        &lt;value&gt;http://jabber.org/protocol/admin&lt;/value&gt;
      &lt;/field&gt;
      &lt;field label='The admin list'
             type='jid-multi'
             var='adminjids'&gt;
        &lt;value&gt;bard@shakespeare.lit&lt;/value&gt;
        &lt;value&gt;chris@marlowe.lit&lt;/value&gt;
      &lt;/field&gt;
    &lt;/x&gt;
  &lt;/command&gt;
&lt;/iq&gt;
</pre></div>
    <p class="caption"><a name="example-101" id="example-101"></a>Example 101. Admin Submits Edit Admin List Form to Service</p><div class="indent"><pre class="prettyprint">
&lt;iq from='bard@shakespeare.lit/globe'
    id='edit-admin-2'
    to='shakespeare.lit'
    type='set'
    xml:lang='en'&gt;
  &lt;command xmlns='http://jabber.org/protocol/commands'
           node='http://jabber.org/protocol/admin#edit-admin'
           sessionid='edit-admin:20040408T0337Z'&gt;
    &lt;x xmlns='jabber:x:data' type='submit'&gt;
      &lt;field type='hidden' var='FORM_TYPE'&gt;
        &lt;value&gt;http://jabber.org/protocol/admin&lt;/value&gt;
      &lt;/field&gt;
      &lt;field var='adminjids'&gt;
        &lt;value&gt;bard@shakespeare.lit&lt;/value&gt;
        &lt;value&gt;hecate@shakespeare.lit&lt;/value&gt;
      &lt;/field&gt;
    &lt;/x&gt;
  &lt;/command&gt;
&lt;/iq&gt;
</pre></div>
    <p class="caption"><a name="example-102" id="example-102"></a>Example 102. Service Informs Admin of Completion</p><div class="indent"><pre class="prettyprint">
&lt;iq from='shakespeare.lit'
    id='edit-admin-2'
    to='bard@shakespeare.lit/globe'
    type='result'
    xml:lang='en'&gt;
  &lt;command xmlns='http://jabber.org/protocol/commands'
           node='http://jabber.org/protocol/admin#edit-admin'
           sessionid='edit-admin:20040408T0337Z'
           status='completed'/&gt;
&lt;/iq&gt;
</pre></div>
  </div>
  <div class="indent"><h3>4.30 <a name="restart" id="restart">Restart Service</a></h3>
    <p class="" style="">A service may allow an administrator to restart the service. The command node for this use case SHOULD be "http://jabber.org/protocol/admin#restart".</p>
    <p class="" style="">A sample protocol flow for this use case is shown below.</p>
    <p class="caption"><a name="example-103" id="example-103"></a>Example 103. Admin Requests Restart of Service</p><div class="indent"><pre class="prettyprint">
&lt;iq from='bard@shakespeare.lit/globe'
    id='restart-1'
    to='shakespeare.lit'
    type='set'
    xml:lang='en'&gt;
  &lt;command xmlns='http://jabber.org/protocol/commands'
           action='execute'
           node='http://jabber.org/protocol/admin#restart'/&gt;
&lt;/iq&gt;
</pre></div>
    <p class="" style="">Unless an error occurs (see the <a href="#errors">Error Handling</a> section below), the service SHOULD return the appropriate form.</p>
    <p class="caption"><a name="example-104" id="example-104"></a>Example 104. Service Returns Restart Form to Admin</p><div class="indent"><pre class="prettyprint">
&lt;iq from='shakespeare.lit'
    id='restart-1'
    to='bard@shakespeare.lit/globe'
    type='result'
    xml:lang='en'&gt;
  &lt;command xmlns='http://jabber.org/protocol/commands'
           node='http://jabber.org/protocol/admin#restart'
           sessionid='restart:20040408T0337Z'
           status='executing'&gt;
    &lt;x xmlns='jabber:x:data' type='form'&gt;
      &lt;title&gt;Restarting the Service&lt;/title&gt;
      &lt;instructions&gt;Fill out this form to restart the service.&lt;/instructions&gt;
      &lt;field type='hidden' var='FORM_TYPE'&gt;
        &lt;value&gt;http://jabber.org/protocol/admin&lt;/value&gt;
      &lt;/field&gt;
      &lt;field label='Time delay before restarting'
             type='list-single'
             var='delay'&gt;
        &lt;option label='30 seconds'&gt;&lt;value&gt;30&lt;/value&gt;&lt;/option&gt;
        &lt;option label='60 seconds'&gt;&lt;value&gt;60&lt;/value&gt;&lt;/option&gt;
        &lt;option label='90 seconds'&gt;&lt;value&gt;90&lt;/value&gt;&lt;/option&gt;
        &lt;option label='2 minutes'&gt;&lt;value&gt;120&lt;/value&gt;&lt;/option&gt;
        &lt;option label='3 minutes'&gt;&lt;value&gt;180&lt;/value&gt;&lt;/option&gt;
        &lt;option label='4 minutes'&gt;&lt;value&gt;240&lt;/value&gt;&lt;/option&gt;
        &lt;option label='5 minutes'&gt;&lt;value&gt;300&lt;/value&gt;&lt;/option&gt;
      &lt;/field&gt;
      &lt;field label='Announcement'
             type='text-multi'
             var='announcement'/&gt;
    &lt;/x&gt;
  &lt;/command&gt;
&lt;/iq&gt;
</pre></div>
    <p class="caption"><a name="example-105" id="example-105"></a>Example 105. Admin Submits Restart Form to Service</p><div class="indent"><pre class="prettyprint">
&lt;iq from='bard@shakespeare.lit/globe'
    id='restart-2'
    to='shakespeare.lit'
    type='set'
    xml:lang='en'&gt;
  &lt;command xmlns='http://jabber.org/protocol/commands'
           node='http://jabber.org/protocol/admin#restart'
           sessionid='restart:20040408T0337Z'&gt;
    &lt;x xmlns='jabber:x:data' type='submit'&gt;
      &lt;field type='hidden' var='FORM_TYPE'&gt;
        &lt;value&gt;http://jabber.org/protocol/admin&lt;/value&gt;
      &lt;/field&gt;
      &lt;field var='delay'&gt;
        &lt;value&gt;120&lt;/value&gt;
      &lt;/field&gt;
      &lt;field var='announcement'&gt;
        &lt;value&gt;The service will be restarted in 2 minutes!&lt;/value&gt;
        &lt;value&gt;Please log off now. --The Admins&lt;/value&gt;
      &lt;/field&gt;
    &lt;/x&gt;
  &lt;/command&gt;
&lt;/iq&gt;
</pre></div>
    <p class="caption"><a name="example-106" id="example-106"></a>Example 106. Service Informs Admin of Completion</p><div class="indent"><pre class="prettyprint">
&lt;iq from='shakespeare.lit'
    id='restart-2'
    to='bard@shakespeare.lit/globe'
    type='result'
    xml:lang='en'&gt;
  &lt;command xmlns='http://jabber.org/protocol/commands'
           node='http://jabber.org/protocol/admin#restart'
           sessionid='restart:20040408T0337Z'
           status='completed'/&gt;
&lt;/iq&gt;
</pre></div>
  </div>
  <div class="indent"><h3>4.31 <a name="shutdown" id="shutdown">Shut Down Service</a></h3>
    <p class="" style="">A service may allow an administrator to shut down the service. The command node for this use case SHOULD be "http://jabber.org/protocol/admin#shutdown".</p>
    <p class="" style="">A sample protocol flow for this use case is shown below.</p>
    <p class="caption"><a name="example-107" id="example-107"></a>Example 107. Admin Requests Shut Down of Service</p><div class="indent"><pre class="prettyprint">
&lt;iq from='bard@shakespeare.lit/globe'
    id='shutdown-1'
    to='shakespeare.lit'
    type='set'
    xml:lang='en'&gt;
  &lt;command xmlns='http://jabber.org/protocol/commands'
           action='execute'
           node='http://jabber.org/protocol/admin#shutdown'/&gt;
&lt;/iq&gt;
</pre></div>
    <p class="" style="">Unless an error occurs (see the <a href="#errors">Error Handling</a> section below), the service SHOULD return the appropriate form.</p>
    <p class="caption"><a name="example-108" id="example-108"></a>Example 108. Service Returns Shut Down Form to Admin</p><div class="indent"><pre class="prettyprint">
&lt;iq from='shakespeare.lit'
    id='shutdown-1'
    to='bard@shakespeare.lit/globe'
    type='result'
    xml:lang='en'&gt;
  &lt;command xmlns='http://jabber.org/protocol/commands'
           node='http://jabber.org/protocol/admin#shutdown'
           sessionid='shutdown:20040408T0337Z'
           status='executing'&gt;
    &lt;x xmlns='jabber:x:data' type='form'&gt;
      &lt;title&gt;Shutting Down the Service&lt;/title&gt;
      &lt;instructions&gt;Fill out this form to shut down the service.&lt;/instructions&gt;
      &lt;field type='hidden' var='FORM_TYPE'&gt;
        &lt;value&gt;http://jabber.org/protocol/admin&lt;/value&gt;
      &lt;/field&gt;
      &lt;field label='Time delay before shutting down'
             type='list-single'
             var='delay'&gt;
        &lt;option label='30 seconds'&gt;&lt;value&gt;30&lt;/value&gt;&lt;/option&gt;
        &lt;option label='60 seconds'&gt;&lt;value&gt;60&lt;/value&gt;&lt;/option&gt;
        &lt;option label='90 seconds'&gt;&lt;value&gt;90&lt;/value&gt;&lt;/option&gt;
        &lt;option label='2 minutes'&gt;&lt;value&gt;120&lt;/value&gt;&lt;/option&gt;
        &lt;option label='3 minutes'&gt;&lt;value&gt;180&lt;/value&gt;&lt;/option&gt;
        &lt;option label='4 minutes'&gt;&lt;value&gt;240&lt;/value&gt;&lt;/option&gt;
        &lt;option label='5 minutes'&gt;&lt;value&gt;300&lt;/value&gt;&lt;/option&gt;
      &lt;/field&gt;
      &lt;field label='Announcement'
             type='text-multi'
             var='announcement'/&gt;
    &lt;/x&gt;
  &lt;/command&gt;
&lt;/iq&gt;
</pre></div>
    <p class="caption"><a name="example-109" id="example-109"></a>Example 109. Admin Submits Shut Down Form to Service</p><div class="indent"><pre class="prettyprint">
&lt;iq from='bard@shakespeare.lit/globe'
    id='shutdown-2'
    to='shakespeare.lit'
    type='set'
    xml:lang='en'&gt;
  &lt;command xmlns='http://jabber.org/protocol/commands'
           node='http://jabber.org/protocol/admin#shutdown'
           sessionid='shutdown:20040408T0337Z'&gt;
    &lt;x xmlns='jabber:x:data' type='submit'&gt;
      &lt;field type='hidden' var='FORM_TYPE'&gt;
        &lt;value&gt;http://jabber.org/protocol/admin&lt;/value&gt;
      &lt;/field&gt;
      &lt;field var='delay'&gt;
        &lt;value&gt;120&lt;/value&gt;
      &lt;/field&gt;
      &lt;field var='announcement'&gt;
        &lt;value&gt;The service will be shut down in 2 minutes!&lt;/value&gt;
        &lt;value&gt;Please log off now. --The Admins&lt;/value&gt;
      &lt;/field&gt;
    &lt;/x&gt;
  &lt;/command&gt;
&lt;/iq&gt;
</pre></div>
    <p class="caption"><a name="example-110" id="example-110"></a>Example 110. Service Informs Admin of Completion</p><div class="indent"><pre class="prettyprint">
&lt;iq from='shakespeare.lit'
    id='shutdown-2'
    to='bard@shakespeare.lit/globe'
    type='result'
    xml:lang='en'&gt;
  &lt;command xmlns='http://jabber.org/protocol/commands'
           node='http://jabber.org/protocol/admin#shutdown'
           sessionid='shutdown:20040408T0337Z'
           status='completed'/&gt;
&lt;/iq&gt;
</pre></div>
  </div>
<h2>5.
       <a name="errors" id="errors">Error Handling</a></h2>
  <p class="" style="">Several error conditions are possible when an entity sends a command request to the service, as defined in the following table. If one of these error conditions occurs, the service MUST return an error stanza to the requesting entity.</p>
  <div class="indent"><p class="caption"><a name="table-1" id="table-1"></a>Table 1: Error Conditions</p><table border="1" cellpadding="3" cellspacing="0">
    <tr class="body">
      <th colspan="" rowspan="">Condition</th>
      <th colspan="" rowspan="">Cause</th>
    </tr>
    <tr class="body">
      <td align="" colspan="" rowspan="">&lt;conflict/&gt;</td>
      <td align="" colspan="" rowspan="">The command cannot be completed because of a data or system conflict (e.g., a user already exists with that username).</td>
    </tr>
    <tr class="body">
      <td align="" colspan="" rowspan="">&lt;feature-not-implemented/&gt;</td>
      <td align="" colspan="" rowspan="">The specific command is not supported (even though the ad-hoc commands protocol is).</td>
    </tr>
    <tr class="body">
      <td align="" colspan="" rowspan="">&lt;forbidden/&gt;</td>
      <td align="" colspan="" rowspan="">The requesting entity does not have sufficient privileges to perform the command.</td>
    </tr>
    <tr class="body">
      <td align="" colspan="" rowspan="">&lt;not-allowed/&gt;</td>
      <td align="" colspan="" rowspan="">No entity is allowed to perform the command (e.g., retrieve the CEO's roster).</td>
    </tr>
    <tr class="body">
      <td align="" colspan="" rowspan="">&lt;service-unavailable/&gt;</td>
      <td align="" colspan="" rowspan="">The ad-hoc commands protocol is not supported.</td>
    </tr>
  </table></div>
  <p class="" style="">For the syntax of these errors, see <span class="ref" style=""><a href="https://xmpp.org/extensions/xep-0086.html">Error Condition Mappings (XEP-0086)</a></span>  [<a href="#nt-idm503">10</a>]. Naturally, other errors may be returned as well (e.g., &lt;internal-server-error/&gt; if the service cannot be shut down).</p>
<h2>6.
       <a name="security" id="security">Security Considerations</a></h2>
  <p class="" style="">The ability to complete the administrative tasks specified herein MUST NOT be granted to users who lack service-level administrative privileges.</p>
<h2>7.
       <a name="iana" id="iana">IANA Considerations</a></h2>
  <p class="" style="">This document requires no interaction with the <span class="ref" style=""><a href="http://www.iana.org/">Internet Assigned Numbers Authority (IANA)</a></span>  [<a href="#nt-idm511">11</a>].</p>
<h2>8.
       <a name="registrar" id="registrar">XMPP Registrar Considerations</a></h2>
  <p class="" style="">The <span class="ref" style=""><a href="https://xmpp.org/registrar/">XMPP Registrar</a></span>  [<a href="#nt-idm517">12</a>] shall include the following information in its registries.</p>
  <div class="indent"><h3>8.1 <a name="registrar-protocol" id="registrar-protocol">Protocol Namespaces</a></h3>
    <p class="" style="">The XMPP Registrar includes "http://jabber.org/protocol/admin" in its registry of protocol namespaces.</p>
  </div>
  <div class="indent"><h3>8.2 <a name="registrar-formtype" id="registrar-formtype">Field Standardization</a></h3>
    <p class="" style=""><span class="ref" style=""><a href="https://xmpp.org/extensions/xep-0068.html">Field Standardization for Data Forms (XEP-0068)</a></span>  [<a href="#nt-idm525">13</a>] defines a process for standardizing the fields used within Data Forms scoped by a particular namespace. The reserved fields for the 'http://jabber.org/protocol/admin' namespace are specified below.</p>
    <p class="caption">Registry Submission</p><div class="indent"><pre class="prettyprint">
&lt;form_type&gt;
  &lt;name&gt;http://jabber.org/protocol/admin&lt;/name&gt;
  &lt;doc&gt;XEP-0133&lt;/doc&gt;
  &lt;desc&gt;Forms used for administration of servers and components.&lt;/desc&gt;
  &lt;field var='accountjid'
         type='jid-single'
         label='The Jabber ID of a single entity to which an operation applies'/&gt;
  &lt;field var='accountjids'
         type='jid-multi'
         label='The Jabber ID of one or more entities to which an operation applies'/&gt;
  &lt;field var='activeuserjids'
         type='jid-multi'
         label='The Jabber IDs associated with active sessions'/&gt;
  &lt;field var='activeusersnum'
         type='text-single'
         label='The number of online entities that are active'/&gt;
  &lt;field var='adminjids'
         type='jid-multi'
         label='A list of entities with administrative privileges'/&gt;
  &lt;field var='announcement'
         type='text-multi'
         label='The text of an announcement to be sent to active users or all users'/&gt;
  &lt;field var='blacklistjids'
         type='jid-multi'
         label='A list of entities with whom communication is blocked'/&gt;
  &lt;field var='delay'
         type='list-multi'
         label='The number of seconds to delay before applying a change'/&gt;
  &lt;field var='disableduserjids'
         type='jid-multi'
         label='The Jabber IDs that have been disabled'/&gt;
  &lt;field var='disabledusersnum'
         type='text-single'
         label='The number of disabled entities'/&gt;
  &lt;field var='email'
         type='text-single'
         label='The email address for a user'/&gt;
  &lt;field var='given_name'
         type='text-single'
         label='The given (first) name of a user'/&gt;
  &lt;field var='idleusersnum'
         type='text-single'
         label='The number of online entities that are idle'/&gt;
  &lt;field var='ipaddresses'
         type='list-multi'
         label='The IP addresses of an account&amp;apos;s online sessions'/&gt;
  &lt;field var='lastlogin'
         type='text-single'
         label='The last login time (per XEP-0082) of a user'/&gt;
  &lt;field var='loginsperminute'
         type='text-single'
         label='The number of logins per minute for an account'/&gt;
  &lt;field var='max_items'
         type='list-single'
         label='The maximum number of items associated with a search or list'/&gt;
  &lt;field var='motd'
         type='text-multi'
         label='The text of a message of the day'/&gt;
  &lt;field var='onlineresources'
         type='text-single'
         label='The names of an account&amp;apos;s online sessions'/&gt;
  &lt;field var='onlineuserjids'
         type='jid-multi'
         label='The Jabber IDs associated with online users'/&gt;
  &lt;field var='onlineusersnum'
         type='text-single'
         label='The number of online entities'/&gt;
  &lt;field var='password'
         type='text-private'
         label='The password for an account'/&gt;
  &lt;field var='password-verify'
         type='text-private'
         label='Password verification'/&gt;
  &lt;field var='registereduserjids'
         type='jid-multi'
         label='A list of registered entities'/&gt;
  &lt;field var='registeredusersnum'
         type='text-single'
         label='The number of registered entities'/&gt;
  &lt;field var='rostersize'
         type='text-single'
         label='Number of roster items for an account'/&gt;
  &lt;field var='stanzaspersecond'
         type='text-single'
         label='The number of stanzas being sent per second by an account'/&gt;
  &lt;field var='surname'
         type='text-single'
         label='The family (last) name of a user'/&gt;
  &lt;field var='welcome'
         type='text-multi'
         label='The text of a welcome message'/&gt;
  &lt;field var='whitelistjids'
         type='jid-multi'
         label='A list of entities with whom communication is allowed'/&gt;
&lt;/form_type&gt;
</pre></div>
  </div>
<h2>9.
       <a name="sect-idm528" id="sect-idm528">XML Schema</a></h2>
  <p class="" style="">Because the protocol defined here is a profile of <span class="ref">XEP-0050: Ad-Hoc Commands</span>, no schema definition is needed.</p>
<hr /><a name="appendices" id="appendices"></a><h2>Appendices</h2><hr /><a name="appendix-docinfo" id="appendix-docinfo"></a><h3>Appendix A: Document Information</h3><p class="indent">
            Series: <a href="http://xmpp.org/extensions/">XEP</a><br />
            Number: 0133<br />
            Publisher: <a href="/xsf/">XMPP Standards Foundation</a><br />
            Status:
            <a href="http://xmpp.org/extensions/xep-0001.html#states-Active">Active</a><br />
            Type:
            <a href="http://xmpp.org/extensions/xep-0001.html#types-Informational">Informational</a><br />
            Version: 1.2<br />
            Last Updated: 2017-07-15<br />
                Approving Body: <a href="http://xmpp.org/council/">XMPP Council</a><br />Dependencies: RFC 6120, XEP-0050<br />
                Supersedes: None<br />
                Superseded By: None<br />
            Short Name: admin<br />
              Source Control:
                <a class="standardsButton" href="https://github.com/xsf/xeps/blob/master/xep-0133.xml">HTML</a><br />
            This document in other formats:
                <a class="standardsButton" href="http://xmpp.org/extensions/xep-0133.xml">XML</a> 
                <a class="standardsButton" href="http://xmpp.org/extensions/xep-0133.pdf">PDF</a></p><hr /><a name="appendix-authorinfo" id="appendix-authorinfo"></a><h3>Appendix B: Author Information</h3><div class="indent"><h3>Peter Saint-Andre</h3><p class="indent">
        Email:
        <a href="mailto:peter@andyet.net">peter@andyet.net</a><br />
        JabberID:
        <a href="xmpp:stpeter@stpeter.im">stpeter@stpeter.im</a><br />
        URI:
        <a href="https://stpeter.im/">https://stpeter.im/</a><br /></p></div><hr /><a name="appendix-legal" id="appendix-legal"></a><h3>Appendix C: Legal Notices</h3><div class="indent"><h4>Copyright</h4>This XMPP Extension Protocol is copyright © 1999 – 2017 by the <a href="https://xmpp.org/">XMPP Standards Foundation</a> (XSF).<h4>Permissions</h4>Permission is hereby granted, free of charge, to any person obtaining a copy of this specification (the "Specification"), to make use of the Specification without restriction, including without limitation the rights to implement the Specification in a software program, deploy the Specification in a network service, and copy, modify, merge, publish, translate, distribute, sublicense, or sell copies of the Specification, and to permit persons to whom the Specification is furnished to do so, subject to the condition that the foregoing copyright notice and this permission notice shall be included in all copies or substantial portions of the Specification. Unless separate permission is granted, modified works that are redistributed shall not contain misleading information regarding the authors, title, number, or publisher of the Specification, and shall not claim endorsement of the modified works by the authors, any organization or project to which the authors belong, or the XMPP Standards Foundation.<h4>Disclaimer of Warranty</h4><span style="font-weight: bold">## NOTE WELL: This Specification is provided on an "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, express or implied, including, without limitation, any warranties or conditions of TITLE, NON-INFRINGEMENT, MERCHANTABILITY, or FITNESS FOR A PARTICULAR PURPOSE. ##</span><h4>Limitation of Liability</h4>In no event and under no legal theory, whether in tort (including negligence), contract, or otherwise, unless required by applicable law (such as deliberate and grossly negligent acts) or agreed to in writing, shall the XMPP Standards Foundation or any author of this Specification be liable for damages, including any direct, indirect, special, incidental, or consequential damages of any character arising from, out of, or in connection with the Specification or the implementation, deployment, or other use of the Specification (including but not limited to damages for loss of goodwill, work stoppage, computer failure or malfunction, or any and all other commercial damages or losses), even if the XMPP Standards Foundation or such author has been advised of the possibility of such damages.<h4>IPR Conformance</h4>This XMPP Extension Protocol has been contributed in full conformance with the XSF's Intellectual Property Rights Policy (a copy of which can be found at &lt;<a href="https://xmpp.org/about/xsf/ipr-policy">https://xmpp.org/about/xsf/ipr-policy</a>&gt; or obtained by writing to XMPP Standards Foundation, P.O. Box 787, Parker, CO 80134 USA).</div><hr /><a name="appendix-xmpp" id="appendix-xmpp"></a><h3>Appendix D: Relation to XMPP</h3><p class="indent">The Extensible Messaging and Presence Protocol (XMPP) is defined in the XMPP Core (RFC 6120) and XMPP IM (RFC 6121) specifications contributed by the XMPP Standards Foundation to the Internet Standards Process, which is managed by the Internet Engineering Task Force in accordance with RFC 2026. Any protocol defined in this document has been developed outside the Internet Standards Process and is to be understood as an extension to XMPP rather than as an evolution, development, or modification of XMPP itself.</p><hr /><a name="appendix-discuss" id="appendix-discuss"></a><h3>Appendix E: Discussion Venue</h3><p class="indent">The primary venue for discussion of XMPP Extension Protocols is the &lt;<a href="http://mail.jabber.org/mailman/listinfo/standards">standards@xmpp.org</a>&gt; discussion list.</p><p class="indent">Discussion on other xmpp.org discussion lists might also be appropriate; see &lt;<a href="http://xmpp.org/about/discuss.shtml">http://xmpp.org/about/discuss.shtml</a>&gt; for a complete list.</p><p class="indent">Given that this XMPP Extension Protocol normatively references IETF technologies, discussion on the &lt;<a href="http://mail.jabber.org/mailman/listinfo/xsf-ietf">xsf-ietf@xmpp.org</a>&gt; list might also be appropriate.</p><p class="indent">Errata can be sent to &lt;<a href="mailto:editor@xmpp.org">editor@xmpp.org</a>&gt;.</p><hr /><a name="appendix-conformance" id="appendix-conformance"></a><h3>Appendix F: Requirements Conformance</h3><p class="indent">The following requirements keywords as used in this document are to be interpreted as described in <a href="http://www.ietf.org/rfc/rfc2119.txt">RFC 2119</a>: "MUST", "SHALL", "REQUIRED"; "MUST NOT", "SHALL NOT"; "SHOULD", "RECOMMENDED"; "SHOULD NOT", "NOT RECOMMENDED"; "MAY", "OPTIONAL".</p><hr /><a name="appendix-notes" id="appendix-notes"></a><h3>Appendix G: Notes</h3><div class="indent"><p><a name="nt-idm88" id="nt-idm88">1</a>. XEP-0045: Multi-User Chat &lt;<a href="https://xmpp.org/extensions/xep-0045.html">https://xmpp.org/extensions/xep-0045.html</a>&gt;.</p><p><a name="nt-idm92" id="nt-idm92">2</a>. XEP-0050: Ad-Hoc Commands &lt;<a href="https://xmpp.org/extensions/xep-0050.html">https://xmpp.org/extensions/xep-0050.html</a>&gt;.</p><p><a name="nt-idm96" id="nt-idm96">3</a>. XEP-0004: Data Forms &lt;<a href="https://xmpp.org/extensions/xep-0004.html">https://xmpp.org/extensions/xep-0004.html</a>&gt;.</p><p><a name="nt-idm107" id="nt-idm107">4</a>. XEP-0030: Service Discovery &lt;<a href="https://xmpp.org/extensions/xep-0030.html">https://xmpp.org/extensions/xep-0030.html</a>&gt;.</p><p><a name="nt-idm234" id="nt-idm234">5</a>. RFC 6121: Extensible Messaging and Presence Protocol (XMPP): Instant Messaging and Presence &lt;<a href="http://tools.ietf.org/html/rfc6121">http://tools.ietf.org/html/rfc6121</a>&gt;.</p><p><a name="nt-idm249" id="nt-idm249">6</a>. XEP-0082: XMPP Date and Time Profiles &lt;<a href="https://xmpp.org/extensions/xep-0082.html">https://xmpp.org/extensions/xep-0082.html</a>&gt;.</p><p><a name="nt-idm265" id="nt-idm265">7</a>. RFC 6120: Extensible Messaging and Presence Protocol (XMPP): Core &lt;<a href="http://tools.ietf.org/html/rfc6120">http://tools.ietf.org/html/rfc6120</a>&gt;.</p><p><a name="nt-idm269" id="nt-idm269">8</a>. XEP-0016: Privacy Lists &lt;<a href="https://xmpp.org/extensions/xep-0016.html">https://xmpp.org/extensions/xep-0016.html</a>&gt;.</p><p><a name="nt-idm412" id="nt-idm412">9</a>. Typically, a "message of the day" is an announcement that is sent once to all users of a server or a service until and unless the message is deleted; it can be thought of as a "standing announcement" as opposed to the "one-time announcement" sent to all online users in the previous use cases. The announcement is sent immediately to users who are online when the message is set, or after the next session initiation for other users (e.g., on server login or chatroom join).</p><p><a name="nt-idm503" id="nt-idm503">10</a>. XEP-0086: Error Condition Mappings &lt;<a href="https://xmpp.org/extensions/xep-0086.html">https://xmpp.org/extensions/xep-0086.html</a>&gt;.</p><p><a name="nt-idm511" id="nt-idm511">11</a>. The Internet Assigned Numbers Authority (IANA) is the central coordinator for the assignment of unique parameter values for Internet protocols, such as port numbers and URI schemes. For further information, see &lt;<a href="http://www.iana.org/">http://www.iana.org/</a>&gt;.</p><p><a name="nt-idm517" id="nt-idm517">12</a>. The XMPP Registrar maintains a list of reserved protocol namespaces as well as registries of parameters used in the context of XMPP extension protocols approved by the XMPP Standards Foundation. For further information, see &lt;<a href="https://xmpp.org/registrar/">https://xmpp.org/registrar/</a>&gt;.</p><p><a name="nt-idm525" id="nt-idm525">13</a>. XEP-0068: Field Data Standardization for Data Forms &lt;<a href="https://xmpp.org/extensions/xep-0068.html">https://xmpp.org/extensions/xep-0068.html</a>&gt;.</p></div><hr /><a name="appendix-revs" id="appendix-revs"></a><h3>Appendix H: Revision History</h3><p>Note: Older versions of this specification might be available at <a href="http://xmpp.org/extensions/attic/">http://xmpp.org/extensions/attic/</a></p><div class="indent"><h4>Version 1.2 (2017-07-15)</h4><div class="indent">Fix broken node value in example. (XEP Editor: ssw)
    </div><h4>Version 1.1 (2005-08-19)</h4><div class="indent">Added use cases for getting list of idle users and of active users (where online = active + idle), getting number (rather than list) of registered/disabled/online/active/idle users, getting list of disabled users, getting user statistics. (psa)
    </div><h4>Version 1.0 (2004-12-09)</h4><div class="indent">Per a vote of the Jabber Council, advanced status to Active. (psa)
    </div><h4>Version 0.8 (2004-12-06)</h4><div class="indent">Addressed Council feedback: folded add blacklist use case into edit blacklist use case; folded add whitelist use case into edit whitelist use case; changed jid-single to jid-multi in many of the use cases; added accountjid field to change password use case; removed grant administrative privileges and revoke administrative privileges use cases (need edit admin list use case only); added max_items field to get active users and get registered users use case. (psa)
    </div><h4>Version 0.7 (2004-12-02)</h4><div class="indent">Added use case for editing message of the day. (psa)
    </div><h4>Version 0.6 (2004-11-19)</h4><div class="indent">Further clarified message of the day per list discussion. (psa)
    </div><h4>Version 0.5 (2004-11-17)</h4><div class="indent">Changed firstname to given_name. (psa)
    </div><h4>Version 0.4 (2004-11-02)</h4><div class="indent">Added note clarifying concept of message of the day. (psa)
    </div><h4>Version 0.3 (2004-09-30)</h4><div class="indent">Changed command naming requirement from MUST to SHOULD. (psa)
    </div><h4>Version 0.2 (2004-07-22)</h4><div class="indent">Added several more use cases; defined complete protocol flows; specified XMPP Registrar considerations. (psa)
    </div><h4>Version 0.1 (2004-04-25)</h4><div class="indent">Initial version. (psa)
    </div></div><hr /><p>END</p></body></html>
