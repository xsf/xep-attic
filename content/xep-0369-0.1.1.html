<?xml version="1.0"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title>XEP-0369: Mediated Information eXchange (MIX)</title><link rel="stylesheet" type="text/css" href="xmpp.css" /><link href="prettify.css" type="text/css" rel="stylesheet" /><link rel="shortcut icon" type="image/x-icon" href="/favicon.ico" /><script type="text/javascript" src="prettify.js"></script><meta name="viewport" content="width=device-width; initial-scale=1.0; maximum-scale=2.0" /><meta name="DC.Title" content="Mediated Information eXchange (MIX)" /><meta name="DC.Creator" content="Kevin Smith" /><meta name="DC.Creator" content="Peter Saint-Andre" /><meta name="DC.Description" content="This document defines Mediated Information eXchange (MIX), an XMPP protocol extension for the exchange of information among multiple participants through a mediating service. The protocol can be used to model group communication applications such as chatrooms, although with greater flexibility and extensibility than existing groupchat technologies such as Multi-User Chat (MUC). Although MIX supports standard groupchat features such as discussion topics and invitations, and also defines a strong access control model similar to that of MUC, it enables users to participate without sharing presence, allows communication of any structured data (not only textual messages), reuses Publish-Subscribe so that users can receive only the information formats in which they are interested, and reuses Message Archive Management (MAM) to provide more robust storage and archiving." /><meta name="DC.Publisher" content="XMPP Standards Foundation" /><meta name="DC.Contributor" content="XMPP Extensions Editor" /><meta name="DC.Date" content="2016-03-17" /><meta name="DC.Type" content="XMPP Extension Protocol" /><meta name="DC.Format" content="XHTML" /><meta name="DC.Identifier" content="XEP-0369" /><meta name="DC.Language" content="en" /><meta name="DC.Rights" content="This XMPP Extension Protocol is copyright &#xA9; 1999 - 2016 by the XMPP Standards Foundation (XSF)." /></head><body onload="prettyPrint()"><h1>XEP-0369: Mediated Information eXchange (MIX)</h1><table><tr valign="top"><td><strong>Abstract:</strong></td><td>This document defines Mediated Information eXchange (MIX), an XMPP protocol extension for the exchange of information among multiple participants through a mediating service. The protocol can be used to model group communication applications such as chatrooms, although with greater flexibility and extensibility than existing groupchat technologies such as Multi-User Chat (MUC). Although MIX supports standard groupchat features such as discussion topics and invitations, and also defines a strong access control model similar to that of MUC, it enables users to participate without sharing presence, allows communication of any structured data (not only textual messages), reuses Publish-Subscribe so that users can receive only the information formats in which they are interested, and reuses Message Archive Management (MAM) to provide more robust storage and archiving.</td></tr><tr valign="top"><td><strong>Authors:</strong></td><td>Kevin Smith, Peter Saint-Andre</td></tr><tr valign="top"><td><strong>Copyright:</strong></td><td>© 1999 - 2016 XMPP Standards Foundation. <a href="#appendix-legal">SEE LEGAL NOTICES</a>.</td></tr><tr valign="top"><td><strong>Status:</strong></td><td>Experimental</td></tr><tr valign="top"><td><strong>Type:</strong></td><td>Standards Track</td></tr><tr valign="top"><td><strong>Version:</strong></td><td>0.1.1</td></tr><tr valign="top"><td><strong>Last Updated:</strong></td><td>2016-03-17</td></tr></table><hr /><p style="color:red">WARNING: This Standards-Track document is Experimental. Publication as an XMPP Extension Protocol does not imply approval of this proposal by the XMPP Standards Foundation. Implementation of the protocol described herein is encouraged in exploratory implementations, but production systems are advised to carefully consider whether it is appropriate to deploy implementations of this protocol before it advances to a status of Draft.</p><hr /><h2>Table of Contents</h2><div class="indent"><p><br />1.  <a href="#intro">Introduction</a><br />2.  <a href="#reqs">Requirements</a><br />3.  <a href="#reqs">Concepts</a><br />   
      3.1.  <a href="#concepts-pubsub">MIX and PubSub</a><br />   
      3.2.  <a href="#concepts-mam">MIX and MAM</a><br />   
      3.3.  <a href="#concepts-nodes">Standard Nodes</a><br />4.  <a href="#discovery">Discovery</a><br />   
      4.1.  <a href="#disco-service">Discovering a MIX service</a><br />   
      4.2.  <a href="#disco-conversation-list">Discovering the Conversations on a Service</a><br />   
      4.3.  <a href="#disco-conversation-info">Discovering Conversation Information</a><br />   
      4.4.  <a href="#disco-conversation-nodes">Discovering Nodes at a Conversation</a><br />   
      4.5.  <a href="#disco-conversation-participants">Discovering Participants in a Conversation</a><br />5.  <a href="#usecases">Use Cases</a><br />   
      5.1.  <a href="#usecases-user">Common User Use Cases</a><br />      
      5.1.1.  <a href="#usecase-user-join">Joining a Conversation</a><br />      
      5.1.2.  <a href="#usecase-user-register">Registering with a MIX Service</a><br />      
      5.1.3.  <a href="#usecase-user-presence">Coming Online</a><br />      
      5.1.4.  <a href="#usecase-user-offline">Going Offline</a><br />      
      5.1.5.  <a href="#usecase-user-message">Sending a Message</a><br />      
      5.1.6.  <a href="#usecase-user-leaving">Leaving a Conversation</a><br />      
      5.1.7.  <a href="#usecase-user-invite">Inviting a Contact To a Conversation</a><br />      
      5.1.8.  <a href="#usecase-user-private-messages">Sending Private Messages</a><br />   
      5.2.  <a href="#usecases-admin">Administrative Use Cases</a><br />      
      5.2.1.  <a href="#usecase-admin-check-create">Checking For Permission To Create a Conversation</a><br />      
      5.2.2.  <a href="#usecase-admin-create">Creating a Conversation</a><br />      
      5.2.3.  <a href="#usecase-admin-">Configuring a Conversation</a><br />      
      5.2.4.  <a href="#usecase-admin-destroy">Destroying a Conversation</a><br />      
      5.2.5.  <a href="#usecase-admin-affiliations">Modifying User Affiliations</a><br />      
      5.2.6.  <a href="#usecase-admin-kick">Removing a User From a Conversation (Kicking)</a><br />6.  <a href="#config">Configuration options</a><br />   
      6.1.  <a href="#config-transparency">Transparency</a><br />7.  <a href="#i18n">Internationalization Considerations</a><br />8.  <a href="#security">Security Considerations</a><br />9.  <a href="#iana">IANA Considerations</a><br />10.  <a href="#registrar">XMPP Registrar Considerations</a><br />11.  <a href="#schema">XML Schema</a><br />12.  <a href="#ack">Acknowledgements</a></p><p><a href="#appendices">Appendices</a><br />    <a href="#appendix-docinfo">A: Document Information</a><br />    <a href="#appendix-authorinfo">B: Author Information</a><br />    <a href="#appendix-legal">C: Legal Notices</a><br />    <a href="#appendix-xmpp">D: Relation to XMPP</a><br />    <a href="#appendix-discuss">E: Discussion Venue</a><br />    <a href="#appendix-conformance">F: Requirements Conformance</a><br />    <a href="#appendix-notes">G: Notes</a><br />    <a href="#appendix-revs">H: Revision History</a></p></div><hr /><h2>1.
       <a name="intro" id="intro">Introduction</a></h2>
  <p>Multi-User Chat (MUC) is a major application of XMPP that was developed in 2002 and standardized in <span class="ref"><a href="http://xmpp.org/extensions/xep-0045.html">Multi-User Chat (XEP-0045)</a></span>  [<a href="#nt-idp631872">1</a>]. This Mediated Infromation eXchange (MIX) protocol defined here implements the same basic MUC patterns in a more flexible and extensible way in order to address requirements that have emerged since MUC was developed. MIX supports all of the core chatroom features that are familiar from MUC, such as discussion topics and invitations. Like MUC, it also defines a strong access control model, including the ability to kick and ban users, to name moderators and administrators, and to require membership in order to participate in conversations.</p>
  <p>MUC exists and works, so why replace it? There are several reasons:</p>
  <ul>
    <li>A number of use cases for group communication have emerged since MUC was first published.</li>
    <li>Experience has shown that it is difficult to use MUC to build several kinds of communication applications (such as a multimedia conference focus) without undesirable hacks.</li>
    <li>It is impractical to address a number of the requirements listed in the next section with MUC or with extensions to MUC. </li>
    <li>In the years after MUC was designed, both <span class="ref"><a href="http://xmpp.org/extensions/xep-0060.html">Publish-Subscribe (XEP-0060)</a></span>  [<a href="#nt-idp642656">2</a>] and <span class="ref"><a href="http://xmpp.org/extensions/xep-0313.html">Message Archive Management (XEP-0313)</a></span>  [<a href="#nt-idp648432">3</a>] have been developed and it is desirable to reuse these building blocks (e.g., MAM can be used for message history) rather than use the less robust methods defined in XEP-0045.</li>
  </ul>
  <p>Because it is anticipated that there will significant co-existence between MUC and MIX, this specification is designed so that:</p>
  <ul>
    <li>XMPP clients can implement MUC and this specification in a way that provides a coherent user experience.</li>
    <li>XMPP servers can implement this specification and also provide a MUC interface in order to support clients that only implement MUC.</li>
  </ul>
  <p>If a server wishes to expose both MUC and MIX representations of chatrooms, it SHOULD do so by serving MUC and MIX on different domains. The MIX service SHOULD include a reference to the MUC mirror, so that clients understanding both protocols can choose to only show one copy of the service.</p>
<h2>2.
       <a name="reqs" id="reqs">Requirements</a></h2>
  <ul>
    <li>Participation in a conversation can persist beyond clients being offline.</li>
    <li>Multiple devices associated with the same account can share the same handle in the conversation, with well-defined rules and all resources individually addressable.</li>
    <li>Conversations are not required to support or reflect presence for participants.</li>
    <li>A client that rejoins a conversation can quickly resync with respect to messages.</li>
    <li>A participant can be an invisible observer.</li>
    <li>Configuration can be observed from outside the conversation (e.g., list of participants, ability to reading messages, etc.).</li>
    <li>MIX services should not allow JIDs to be harvested.</li>
    <li>Play nicely with Message Archive Management (MAM).</li>
    <li>A user can can know which conversations they participate in, globally across all MIX services.</li>
    <li>Provide extensibility regarding data formats that can be sent within a conversation (files, structured data, indications about media sources in multimedia conferences, etc.) as well as flexibility regarding which data formats a user wants to receive.</li>
    <li>(Desirable) Make it easier to distribute a conversation across services in the spirit of "federated MUC" <span class="ref"><a href="http://xmpp.org/extensions/xep-0289.html">Federated MUC for Constrained Environments (XEP-0289)</a></span>  [<a href="#nt-idp1518352">4</a>].</li>
    <li>(Desirable) Make it easier to reduce duplicate traffic.</li>
 </ul>
<h2>3.
       <a name="reqs" id="reqs">Concepts</a></h2>
  <p>The following concepts underlie the design of MIX.</p>
  <ul>
    <li>MIX conversations (roughly equivalent to MUC rooms) are hosted on a MIX domain, e.g., `mix.example.com`, which is discoverable through <span class="ref"><a href="http://xmpp.org/extensions/xep-0030.html">Service Discovery (XEP-0030)</a></span>  [<a href="#nt-idp1522752">5</a>]. Each conversation on the service may then be discovered and queried.</li>
    <li>Re-using the model from <span class="ref"><a href="http://xmpp.org/extensions/xep-0163.html">Personal Eventing Protocol (XEP-0163)</a></span>  [<a href="#nt-idp1525328">6</a>] (where every user JID (e.g., `user@example.com`) is its own pubsub service), in MIX each conversation (e.g., `conversation@mix.example.com`) is a pubsub service.</li>
    <li>A conversation's pubsub service can contains any number of nodes for different event types or data formats. As described below, this document defines several standard nodes; however, future specifications or proprietary services can define their own nodes for extensibility.</li>
    <li>Affiliations with the nodes are, by default, tied together as affiliations on the conversation itself rather than individual nodes, so that allowing or denying access to a conversation is a single affiliation change.</li>
    <li><span class="ref"><a href="http://xmpp.org/extensions/xep-0313.html">Message Archive Management (XEP-0313)</a></span>  [<a href="#nt-idp1527936">7</a>] (MAM) is used for all history access, with each node being individually addressable for MAM queries. This simplifies implementation compared to MUC (which had a specialized and rather limited history retrieval mechanism).</li>
    <li>A client can achieve a 'quick resync' of a node by requesting just those changes it has not yet received, using standard MAM protocol. This solves the old MUC issue of either receiving duplicate messages when rejoining a room or potentially missing messages.</li>
    <li>Because MAM is used for history, only those nodes that have a 'current value' need to store any items in them - e.g., 'urn:xmpp:mix:nodes:presence' and 'urn:xmpp:mix:nodes:subject' would store their current values (with older values being queryable through MAM), while 'urn:xmpp:mix:nodes:messages' would store no items.</li>
    <li>A user's participation in a conversation outlives their presence session. A user who is offline will not share presence within the conversation, but will still be listed as an participant. This too is a significant departure from MUC.</li>
    <li>MUC2 decouples addressing of occupants from their nicknames, such that nickname changes don't affect addressing, adding flexibility.</li>
    <li>Each occupant is addressible by a single JID - in non-anonymous rooms these are just the ocucpant's 'real' JID such that messages between users are only mediated by the MUC2 service in semi-anonymous rooms. These are full JIDs, allowing transparency when a user has multiple online resources participating in the MIX.</li>
  </ul>
  <div class="indent"><h3>3.1 <a name="concepts-pubsub" id="concepts-pubsub">MIX and PubSub</a></h3>
    <p>MIX is based upon domains providing a MIX service, such as `mix.shakespeare.example`. Note that although PubSub communication is used, a domain used for MIX is a MIX domain and not a standard <span class="ref"><a href="http://xmpp.org/extensions/xep-0060.html">Publish-Subscribe (XEP-0060)</a></span>  [<a href="#nt-idp1535088">8</a>] domain. (Note that, like in MUC, there is no requirement on the naming of these domains; the label 'mix' and the fact that it is a subdomain of a 'shakespeare.example' service is purely an example).</p>
    <p>Every MIX conversation is an addressable PubSub service (with additional MIX semantics) that will be addressed by an XMPP client using a bare JID, for example coven@mix.shakespeare.example. While <span class="ref"><a href="http://xmpp.org/extensions/xep-0060.html">Publish-Subscribe (XEP-0060)</a></span>  [<a href="#nt-idp1538128">9</a>] is used as the basis for the MIX model, some protocol is added or optimised in this document for the MIX use cases. For example, when a message is published to the 'urn:xmpp:mix:nodes:messages' node, a message unlike a <span class="ref"><a href="http://xmpp.org/extensions/xep-0060.html">Publish-Subscribe (XEP-0060)</a></span>  [<a href="#nt-idp1540560">10</a>] payload is distributed to occupants (more akin to the old <span class="ref"><a href="http://xmpp.org/extensions/xep-0045.html">Multi-User Chat (XEP-0045)</a></span>  [<a href="#nt-idp1542752">11</a>]); this enables standard XMPP semantics of message stanzas to be used.</p>
  </div>
  <div class="indent"><h3>3.2 <a name="concepts-mam" id="concepts-mam">MIX and MAM</a></h3>
    <p>Message Archive Management is used for all storage of historical data (such as the history of messages sent within the conversation). Each node can be archived separately (e.g., the presence node or the configuration node). MIX clients can retrieve information archived in MAM in order to quickly resync with regard to a conversation, and can do so without necessarily providing presence information.</p>
  </div>
  <div class="indent"><h3>3.3 <a name="concepts-nodes" id="concepts-nodes">Standard Nodes</a></h3>
    <p>The standard nodes are as follows (although note that not every conversation will necessarily use each node):</p>
    <ul>
      <li>'urn:xmpp:mix:nodes:messages' for publishing messages. Each item of this node will contain one message, containing each of the distributed payloads.</li>
      <li>'urn:xmpp:mix:nodes:subject' for publishing the subject of the conversation.</li>
      <li>'urn:xmpp:mix:nodes:participants' for publishing the list of participants, including their details (e.g., the participant JIDs in an appropriately configured conversation). This is equivalent to the "room roster" in MUC.</li>
      <li>'urn:xmpp:mix:nodes:presence' for publishing information about the availability status of the participants. This is a significant departure from MUC, where occupancy and presence were tightly coupled. In MIX it is possible to have a 'presenceless conversation' by not using this node. As another significant departure from MUC (where a participant is active in the room from multiple resources), information about the presence of each resource associated with an account is individually available, as is normal outside MUC.</li>
      <li>'urn:xmpp:mix:nodes:config' for storing configuration information. In another departure from MUC, by storing configuration in the same manner as other data, it is possible to tweak access rights such that participants are able to read the configuration if desired. A further benefit is that notifications of configuration changes fall out "for free".</li>
      <li>'urn:xmpp:mix:nodes:acl' for storing information about access control lists (such as the list of owners and moderators). Naturally this information might be restricted to authorized users.</li>
    </ul>
  </div>
<h2>4.
       <a name="discovery" id="discovery">Discovery</a></h2>
  <div class="indent"><h3>4.1 <a name="disco-service" id="disco-service">Discovering a MIX service</a></h3>
    <p>To determine if a domain hosts a MIX service, a <span class="ref"><a href="http://xmpp.org/extensions/xep-0030.html">Service Discovery (XEP-0030)</a></span>  [<a href="#nt-idp1554448">12</a>] info query should be sent in the usual manner</p>
      <p class="caption"><a name="example-1" id="example-1"></a>Example 1. Entity queries a service</p><div class="indent"><pre class="prettyprint">
&lt;iq from='hag66@shakespeare.example/intibo24'
    id='lx09df27'
    to='mix.shakespeare.example'
    type='get'&gt;
  &lt;query xmlns='http://jabber.org/protocol/disco#info'/&gt;
&lt;/iq&gt;
</pre></div>
    <p>The MIX service then MUST return its identity and the features it supports, which MUST include the 'urn:xmpp:mix:0' feature, and the identity MUST have a category of 'conference' and a type of 'text'. TODO: do we want a different type?</p>
    <p class="caption"><a name="example-2" id="example-2"></a>Example 2. Service responds with Disco Info result</p><div class="indent"><pre class="prettyprint">
&lt;iq from='mix.shakespeare.example'
    id='lx09df27'
    to='hag66@shakespeare.example/intibo24'
    type='result'&gt;
  &lt;query xmlns='http://jabber.org/protocol/disco#info'&gt;
    &lt;identity
        category='conference'
        name='Shakespearean Chat Service'
        type='text'/&gt;
    &lt;feature var='urn:xmpp:mix:0'/&gt;
    &lt;x xmlns='jabber:x:data' type='result'&gt;
      &lt;field var='FORM_TYPE' type='hidden'&gt;
        &lt;value&gt;urn:xmpp:mix:0#serviceinfo&lt;/value&gt;
      &lt;/field&gt;
      &lt;field var='urn:xmpp:mix:nodes:muc_mirror'
             label='Location of MUC mirror service'&gt;
        &lt;value&gt;chat.shakespeare.example&lt;/value&gt;
      &lt;/field&gt;
    &lt;/x&gt;
  &lt;/query&gt;
&lt;/iq&gt;
</pre></div>
    <p>If the MIX service is mirrored to a MUC service for backwards-compatibility, this SHOULD be signaled by the inclusion of a 'urn:xmpp:mix:nodes:muc_mirror' field, the value of which is the mirrored MUC domain, in the extended disco results in a form whose type value is 'urn:xmpp:mix:0#serviceinfo'. Note that the MIX service itself doesn't advertise support for <span class="ref"><a href="http://xmpp.org/extensions/xep-0313.html">Message Archive Management (XEP-0313)</a></span>  [<a href="#nt-idp1560288">13</a>], nor is support for generic <span class="ref"><a href="http://xmpp.org/extensions/xep-0060.html">Publish-Subscribe (XEP-0060)</a></span>  [<a href="#nt-idp1562480">14</a>] advertised.</p>
  </div>
  <div class="indent"><h3>4.2 <a name="disco-conversation-list" id="disco-conversation-list">Discovering the Conversations on a Service</a></h3>
    <p>There is no need for using Service Discovery here, since the MIX service provides a node "urn:xmpp:mix:nodes:conversations" that pushes out one event for each conversation that has been created at the service.</p>
  </div>
  <div class="indent"><h3>4.3 <a name="disco-conversation-info" id="disco-conversation-info">Discovering Conversation Information</a></h3>
    <p>In order to find out more information about a given conversation, a user can send a disco#info query to the conversation.</p>
    <p class="caption"><a name="example-3" id="example-3"></a>Example 3. Entity Queries for Information about a Specific Conversation</p><div class="indent"><pre class="prettyprint">
&lt;iq from='hag66@shakespeare.lit/pda'
    id='ik3vs715'
    to='coven@mix.shakespeare.lit'
    type='get'&gt;
  &lt;query xmlns='http://jabber.org/protocol/disco#info'/&gt;
&lt;/iq&gt;
    </pre></div>
    <p>The conversation MUST return its identity and the features it supports:</p>
    <p class="caption"><a name="example-4" id="example-4"></a>Example 4. Conversation Returns Disco Info Result</p><div class="indent"><pre class="prettyprint">
&lt;iq from='coven@mix.shakespeare.lit'
    id='ik3vs715'
    to='hag66@shakespeare.lit/pda'
    type='result'&gt;
  &lt;query xmlns='http://jabber.org/protocol/disco#info'&gt;
    &lt;identity
        category='conference'
        name='A Dark Cave'
        type='mix'/&gt;
    &lt;feature var='urn:xmpp:mix:0'/&gt;
  &lt;/query&gt;
&lt;/iq&gt;
    </pre></div>
  </div>
  <div class="indent"><h3>4.4 <a name="disco-conversation-nodes" id="disco-conversation-nodes">Discovering Nodes at a Conversation</a></h3>
    <p>Use disco#items to find the nodes associated with a conversation.</p>
    <p class="caption"><a name="example-5" id="example-5"></a>Example 5. Entity Queries for Nodes at a Conversation</p><div class="indent"><pre class="prettyprint">
&lt;iq from='hag66@shakespeare.lit/pda'
    id='kl2fax27'
    to='coven@mix.shakespeare.lit'
    type='get'&gt;
  &lt;query xmlns='http://jabber.org/protocol/disco#items'/&gt;
&lt;/iq&gt;
    </pre></div>
    <p class="caption"><a name="example-6" id="example-6"></a>Example 6. Room Returns Disco Items Result</p><div class="indent"><pre class="prettyprint">
&lt;iq from='coven@mix.shakespeare.lit'
    id='kl2fax27'
    to='hag66@shakespeare.lit/pda'
    type='result'&gt;
  &lt;query xmlns='http://jabber.org/protocol/disco#items'&gt;
    &lt;item jid='coven@mix.shakespeare.example'
          node='urn:xmpp:mix:nodes:presence'/&gt;
    &lt;item jid='coven@mix.shakespeare.example'
          node='urn:xmpp:mix:nodes:participants'/&gt;
    &lt;item jid='coven@mix.shakespeare.example'
          node='urn:xmpp:mix:nodes:messages'/&gt;
    &lt;item jid='coven@mix.shakespeare.example'
          node='urn:xmpp:mix:nodes:subject'/&gt;
    &lt;item jid='coven@mix.shakespeare.example'
          node='urn:xmpp:mix:nodes:config'/&gt;
  &lt;/query&gt;
&lt;/iq&gt;
    </pre></div>
  </div>
  <div class="indent"><h3>4.5 <a name="disco-conversation-participants" id="disco-conversation-participants">Discovering Participants in a Conversation</a></h3>
    <p>*Not* done with disco#items (which returns nodes), instead query items on the "urn:xmpp:mix:nodes:participants" node (if you're allowed).</p>
  </div>
<h2>5.
       <a name="usecases" id="usecases">Use Cases</a></h2>
  <div class="indent"><h3>5.1 <a name="usecases-user" id="usecases-user">Common User Use Cases</a></h3>
    <div class="indent"><h3>5.1.1 <a name="usecase-user-join" id="usecase-user-join">Joining a Conversation</a></h3>
      <p>A user joins a conversation by sending a MIX "join" command. There's no default set of nodes: all nodes must be specified if the user wants that information (but clients should pick the standard MIX ones at least by default for normal usage). It's possible to forward-subscribe to nodes that don't yet exist, in case they're added (e.g., presence added to a MUC). The server injects a new item into the "urn:xmpp:mix:nodes:participants" node automatically. TODO: include the nickname at this point?</p>
        <p class="caption"><a name="example-7" id="example-7"></a>Example 7. User Joins a Conversation</p><div class="indent"><pre class="prettyprint">
&lt;iq type='set'
    from='hag66@shakespeare.example'
    to='coven@mix.shakespeare.example'
    id='E6E10350-76CF-40C6-B91B-1EA08C332FC7'&gt;
  &lt;join xmlns='urn:xmpp:mix:0'&gt;
    &lt;subscribe node='urn:xmpp:mix:nodes:messages'/&gt;
    &lt;subscribe node='urn:xmpp:mix:nodes:presence'/&gt;
    &lt;subscribe node='urn:xmpp:mix:nodes:participants'/&gt;
    &lt;subscribe node='urn:xmpp:mix:nodes:subject'/&gt;
    &lt;subscribe node='urn:xmpp:mix:nodes:config'/&gt;
  &lt;/join&gt;
&lt;/iq&gt;
</pre></div>
      <p>The conversation must process the join atomically. The conversation responds with an IQ-result. This stanza includes the nodes to which the user was subscribed, as well as the JID that will be used for the user in this room (real JID for non-anonymous rooms, proxy JID for semi-anonymous rooms). TODO: does this need to always be a proxyJID? List discussion.</p>
      <p class="caption"><a name="example-8" id="example-8"></a>Example 8. Conversation Successfully Processes Join</p><div class="indent"><pre class="prettyprint">
&lt;iq type='result'
    from='coven@mix.shakespeare.example'
    to='hag66@shakespeare.example'
    id='E6E10350-76CF-40C6-B91B-1EA08C332FC7'&gt;
  &lt;join xmlns='urn:xmpp:mix:0' jid='hag66@shakespeare.example'&gt;
    &lt;subscribe node='urn:xmpp:mix:nodes:messages'/&gt;
    &lt;subscribe node='urn:xmpp:mix:nodes:presence'/&gt;
    &lt;subscribe node='urn:xmpp:mix:nodes:participants'/&gt;
    &lt;subscribe node='urn:xmpp:mix:nodes:subject'/&gt;
    &lt;subscribe node='urn:xmpp:mix:nodes:config'/&gt;
  &lt;/pubsub&gt;
&lt;/iq&gt;
      </pre></div>
      <p>As noted, the participant might not be subscribed to all nodes (in this case only messages, participants, and subject).</p>
      <p class="caption"><a name="example-9" id="example-9"></a>Example 9. Conversation Processes Join With Modifications</p><div class="indent"><pre class="prettyprint">
&lt;iq type='result'
    from='hag66@shakespeare.example'
    to='coven@mix.shakespeare.example'
    id='E6E10350-76CF-40C6-B91B-1EA08C332FC7'&gt;
  &lt;join xmlns='urn:xmpp:mix:0' jid='hag66@shakespeare.example'&gt;
    &lt;subscribe node='urn:xmpp:mix:nodes:messages'/&gt;
    &lt;subscribe node='urn:xmpp:mix:nodes:participants'/&gt;
    &lt;subscribe node='urn:xmpp:mix:nodes:subject'/&gt;
  &lt;/pubsub&gt;
&lt;/iq&gt;
      </pre></div>
      <p>The conversation also adds the user to the participants node and sends a notification.</p>
      <p class="caption"><a name="example-10" id="example-10"></a>Example 10. Conversation Adds User to Participants Node</p><div class="indent"><pre class="prettyprint">
&lt;message from='coven@mix.shakespeare.example'
         to='hecate@shakespeare.example'
         id='5A9C7398-DB13-4BFA-A091-2D466C710AAF'&gt;
  &lt;event xmlns='http://jabber.org/protocol/pubsub#event'&gt;
    &lt;items node='urn:xmpp:mix:nodes:participants'&gt;
      &lt;item id='33EB6D2A-3473-4FFB-82DF-C4290FB761E4'&gt;
        &lt;participant xmlns='urn:xmpp:mix:0'
                     jid='hag66@shakespeare.example'
                     nick='thirdwitch'/&gt;
      &lt;/item&gt;
    &lt;/items&gt;
  &lt;/event&gt;
&lt;/message&gt;
      </pre></div>
      <p>Each &lt;participant&gt; element includes a 'jid' attribute, which is the stable participant identifier for this user in this conversation.  TODO: proxy/realJID mapping (admins might see real JIDs even in a semianon room)</p>
    </div>
    <div class="indent"><h3>5.1.2 <a name="usecase-user-register" id="usecase-user-register">Registering with a MIX Service</a></h3>
      <p>A user can register with the MIX service (not any particular conversation) by sending a &lt;register/&gt; command to the service. TODO: This should be available either room or service-based, with discovery.</p>
      <p class="caption"><a name="example-11" id="example-11"></a>Example 11. User Registers with Service</p><div class="indent"><pre class="prettyprint">
&lt;iq type='set'
    from='hag66@shakespeare.example/pda'
    to='mix.shakespeare.example'
    id='7nve413p'&gt;
  &lt;register xmlns='urn:xmpp:mix:0'&gt;
    &lt;nick&gt;thirdwitch&lt;/nick&gt;
  &lt;/register&gt;
&lt;/iq&gt;
      </pre></div>
      <p>On success, the service informs the user of its nick. The nick that is issued might be different from the nick that was requested, for example if the service completes normalization of nicknames for purposes of internationalization.</p>
      <p>MIX services SHOULD apply the "nickname" profile of the PRECIS OpaqueString class, which is defined in draft-ietf-precis-nickname.</p>
      <p class="caption"><a name="example-12" id="example-12"></a>Example 12. Service Returns User of Nick</p><div class="indent"><pre class="prettyprint">
&lt;iq type='result'
    to='mix.shakespeare.example'
    from='hag66@shakespeare.example/pda'
    id='7nve413p'&gt;
  &lt;register xmlns='urn:xmpp:mix:0'&gt;
    &lt;nick&gt;thirdwitch&lt;/nick&gt;
  &lt;/register&gt;
&lt;/iq&gt;
      </pre></div>
      <p>If the requested nick is already taken, the MIX service returns a &lt;conflict/&gt; error:</p>
      <p class="caption"><a name="example-13" id="example-13"></a>Example 13. Nick is Taken</p><div class="indent"><pre class="prettyprint">
&lt;iq type='error'
    to='mix.shakespeare.example'
    from='hag66@shakespeare.example/pda'
    id='7nve413p'&gt;
  &lt;register xmlns='urn:xmpp:mix:0'&gt;
    &lt;nick&gt;thirdwitch&lt;/nick&gt;
  &lt;/register&gt;
  &lt;error type='cancel'&gt;
    &lt;conflict xmlns='urn:ietf:params:xml:ns:xmpp-stanzas'/&gt;
  &lt;/error&gt;
&lt;/iq&gt;
      </pre></div>
      <p>If the register request does not contain a &lt;nick/&gt; element, then the MIX service assigns one (this SHOULD be a UUID). TODO: Discuss - is there any reason for this to be a UUID? Surely anything the server wants to assign is fine (with security consideration about leaking JID information).</p>
    </div>
    <div class="indent"><h3>5.1.3 <a name="usecase-user-presence" id="usecase-user-presence">Coming Online</a></h3>
      <p>Participation in the conversation is decoupled from sending presence through the conversation. A participant comes online by publishing availability to the "urn:xmpp:mix:nodes:presence" node. TODO: Move back to using presence normally (suggested with rooms in rosters), for correct 'offline' behaviour, etc.</p>
      <p class="caption"><a name="example-14" id="example-14"></a>Example 14. User Comes Online in the Conversation</p><div class="indent"><pre class="prettyprint">
&lt;iq type='set'
    from='hag66@shakespeare.example/pda'
    to='coven@mix.shakespeare.example'
    id='hysf1v37'&gt;
  &lt;pubsub xmlns='http://jabber.org/protocol/pubsub'&gt;
    &lt;publish node='urn:xmpp:mix:nodes:presence'&gt;
      &lt;item&gt;
        &lt;presence xmlns='jabber:client'&gt;
          &lt;nick xmlns='http://jabber.org/protocol/nick'&gt;thirdwitch&lt;/nick&gt;
          &lt;c xmlns='http://jabber.org/protocol/caps'
             hash='sha-1'
             node='http://code.google.com/p/exodus'
             ver='QgayPKawpkPSDYmwT/WM94uAlu0='/&gt;
        &lt;/presence&gt;
      &lt;/item&gt;
    &lt;/publish&gt;
  &lt;/pubsub&gt;
&lt;/iq&gt;
      </pre></div>
      <p>The user's presence information is then published by the service to the "urn:xmpp:mix:nodes:presence" node, with the 'publisher' attribute set to the user's participant identifier. TODO: List discussion on the benefits of wrapping vs. normal presence.</p>
      <p class="caption"><a name="example-15" id="example-15"></a>Example 15. Conversation Distributes Presence</p><div class="indent"><pre class="prettyprint">
&lt;message from='mix.shakespeare.example'
         to='hecate@shakespeare.example'
         id='77E07BB0-55CF-4BD4-890E-3F7C0E686BBD'&gt;
  &lt;event xmlns='http://jabber.org/protocol/pubsub#event'&gt;
    &lt;items node='urn:xmpp:mix:nodes:presence'&gt;
      &lt;item id='ae890ac52d0df67ed7cfdf51b644e901'
            publisher='3608A5E0C4C8'&gt;
        &lt;presence xmlns='jabber:client'&gt;
          &lt;nick xmlns='http://jabber.org/protocol/nick'&gt;thirdwitch&lt;/nick&gt;
          &lt;c xmlns='http://jabber.org/protocol/caps'
             hash='sha-1'
             node='http://code.google.com/p/exodus'
             ver='QgayPKawpkPSDYmwT/WM94uAlu0='/&gt;
        &lt;/presence&gt;
      &lt;/item&gt;
    &lt;/items&gt;
  &lt;/event&gt;
&lt;/message&gt;
      </pre></div>
    </div>
    <div class="indent"><h3>5.1.4 <a name="usecase-user-offline" id="usecase-user-offline">Going Offline</a></h3>
      <p>To go offline, the user sends a normal unavailable stanza (usually through their server's usual offline broadcast rules).</p>
      <p class="caption"><a name="example-16" id="example-16"></a>Example 16. User Goes Offline in the Conversation</p><div class="indent"><pre class="prettyprint">
&lt;presence type='unavailable'
    from='hag66@shakespeare.example/pda'
    to='coven@mix.shakespeare.example'/&gt;
      </pre></div>
      <p>The conversation retracts the item and notifies subscribers to the presence node. TODO: Update depending on discussion about events vs. presence.</p>
    </div>
    <div class="indent"><h3>5.1.5 <a name="usecase-user-message" id="usecase-user-message">Sending a Message</a></h3>
      <p>A user sends a message by publishing it to messages node. TODO: List discussion about type=groupchat messages vs. xep60 publish.</p>
      <p class="caption"><a name="example-17" id="example-17"></a>Example 17. User Sends Message to Conversation</p><div class="indent"><pre class="prettyprint">
&lt;iq type='set'
    from='hag66@shakespeare.example/pda'
    to='coven@mix.shakespeare.example'
    id='92vax143g'&gt;
  &lt;pubsub xmlns='http://jabber.org/protocol/pubsub'&gt;
    &lt;publish node='urn:xmpp:mix:nodes:messages'&gt;
      &lt;item&gt;
        &lt;body xmlns='jabber:client'&gt;Harpier cries: 'tis time, 'tis time.&lt;/body&gt;
      &lt;/item&gt;
    &lt;/publish&gt;
  &lt;/pubsub&gt;
&lt;/iq&gt;
      </pre></div>
      <p>The message comes from the conversation as a pubsub notification, with the 'publisher' attribute set to the participant identifier of the sender.</p>
      <p class="caption"><a name="example-18" id="example-18"></a>Example 18. Conversation Reflects Message to Participants</p><div class="indent"><pre class="prettyprint">
&lt;message from='mix.shakespeare.example'
         to='hecate@shakespeare.example'
         id='77E07BB0-55CF-4BD4-890E-3F7C0E686BBD'&gt;
  &lt;event xmlns='http://jabber.org/protocol/pubsub#event'&gt;
    &lt;items node='urn:xmpp:mix:nodes:messages'&gt;
      &lt;item id='bnd81g37d61f49fgn581'
            publisher='3608A5E0C4C8'&gt;
        &lt;body xmlns='jabber:client'&gt;Harpier cries: 'tis time, 'tis time.&lt;/body&gt;
      &lt;/item&gt;
    &lt;/items&gt;
  &lt;/event&gt;
&lt;/message&gt;
      </pre></div>
    </div>
    <div class="indent"><h3>5.1.6 <a name="usecase-user-leaving" id="usecase-user-leaving">Leaving a Conversation</a></h3>
      <p>In order to permanently leave a conversation, a user sends a MIX "leave" command.</p>
      <p class="caption"><a name="example-19" id="example-19"></a>Example 19. User Leaves a Conversation</p><div class="indent"><pre class="prettyprint">
&lt;iq type='set'
    from='hag66@shakespeare.example'
    to='coven@mix.shakespeare.example'
    id='E6E10350-76CF-40C6-B91B-1EA08C332FC7'&gt;
  &lt;leave xmlns='urn:xmpp:mix:0'/&gt;
&lt;/iq&gt;
      </pre></div>
      <p>Note that leaving the conversation is a permanent action for a user across all clients, not just a matter of telling the conversation that the user is not currently available (as in MUC), or for a single client. If the user leaves the conversation, the MIX service is responsible for unsubscribing the user from all nodes in the conversation, and also for telling participants that the user is offline.</p>
    </div>
    <div class="indent"><h3>5.1.7 <a name="usecase-user-invite" id="usecase-user-invite">Inviting a Contact To a Conversation</a></h3>
      <p>User sends to conversation requesting invite, receives it, forwards it to contact. Solves issues with both directed and mediated invites. ### TODO: Dave had a point about contact preverification about users' invites. Discuss.</p>
    </div>
    <div class="indent"><h3>5.1.8 <a name="usecase-user-private-messages" id="usecase-user-private-messages">Sending Private Messages</a></h3>
      <p>Users' JIDs are available from the "urn:xmpp:mix:nodes:participants" node if the conversation is transparent.</p>
    </div>
  </div>

  <div class="indent"><h3>5.2 <a name="usecases-admin" id="usecases-admin">Administrative Use Cases</a></h3>
    <div class="indent"><h3>5.2.1 <a name="usecase-admin-check-create" id="usecase-admin-check-create">Checking For Permission To Create a Conversation</a></h3>
      <p></p>
        <p class="caption"><a name="example-20" id="example-20"></a>Example 20. </p><div class="indent"><pre class="prettyprint">

</pre></div>
    </div>
    <div class="indent"><h3>5.2.2 <a name="usecase-admin-create" id="usecase-admin-create">Creating a Conversation</a></h3>
      <p></p>
        <p class="caption"><a name="example-21" id="example-21"></a>Example 21. </p><div class="indent"><pre class="prettyprint">

</pre></div>
    </div>
    <div class="indent"><h3>5.2.3 <a name="usecase-admin-" id="usecase-admin-">Configuring a Conversation</a></h3>
      <p></p>
        <p class="caption"><a name="example-22" id="example-22"></a>Example 22. </p><div class="indent"><pre class="prettyprint">

</pre></div>
    </div>
    <div class="indent"><h3>5.2.4 <a name="usecase-admin-destroy" id="usecase-admin-destroy">Destroying a Conversation</a></h3>
      <p></p>
        <p class="caption"><a name="example-23" id="example-23"></a>Example 23. </p><div class="indent"><pre class="prettyprint">

</pre></div>
    </div>
    <div class="indent"><h3>5.2.5 <a name="usecase-admin-affiliations" id="usecase-admin-affiliations">Modifying User Affiliations</a></h3>
      <p></p>
        <p class="caption"><a name="example-24" id="example-24"></a>Example 24. </p><div class="indent"><pre class="prettyprint">

</pre></div>
    </div>
    <div class="indent"><h3>5.2.6 <a name="usecase-admin-kick" id="usecase-admin-kick">Removing a User From a Conversation (Kicking)</a></h3>
      <p></p>
        <p class="caption"><a name="example-25" id="example-25"></a>Example 25. </p><div class="indent"><pre class="prettyprint">

</pre></div>
    </div>

  </div>

<h2>6.
       <a name="config" id="config">Configuration options</a></h2>
  <div class="indent"><h3>6.1 <a name="config-transparency" id="config-transparency">Transparency</a></h3>
    <p>TODO: transparent vs. opaque conversations</p>
  </div>
<h2>7.
       <a name="i18n" id="i18n">Internationalization Considerations</a></h2>
  <p>TBD.</p>
  <p>Discuss normalization of nicknames.</p>
<h2>8.
       <a name="security" id="security">Security Considerations</a></h2>
  <p>TBD.</p>
  <p>Topics to cover:</p>
  <ul>
    <li>transparent vs. opaque conversations</li>
    <li>nickname registration and security implications of normalization</li>
  </ul>
<h2>9.
       <a name="iana" id="iana">IANA Considerations</a></h2>
  <p>None.</p>
<h2>10.
       <a name="registrar" id="registrar">XMPP Registrar Considerations</a></h2>
  <p>Register a namespace.</p>
<h2>11.
       <a name="schema" id="schema">XML Schema</a></h2>
  <p>TBD.</p>
<h2>12.
       <a name="ack" id="ack">Acknowledgements</a></h2>
  <p>Thanks to the participants in XMPP Summit 18 for their significant input during design sessions: Dave Cridland, Philipp Hancke, Waqas Hussain, Lance Stout, Sam Whited, and Matthew Wild.</p>
<hr /><a name="appendices" id="appendices"></a><h2>Appendices</h2><hr /><a name="appendix-docinfo" id="appendix-docinfo"></a><h3>Appendix A: Document Information</h3><p class="indent">
            Series: <a href="http://xmpp.org/extensions/">XEP</a><br />
            Number: 0369<br />
            Publisher: <a href="/xsf/">XMPP Standards Foundation</a><br />
            Status: 
            <a href="http://xmpp.org/extensions/xep-0001.html#states-Experimental">Experimental</a><br />
            Type:
            <a href="http://xmpp.org/extensions/xep-0001.html#types-Standards Track">Standards Track</a><br />
            Version: 0.1.1<br />
            Last Updated: 2016-03-17<br />
                Approving Body: <a href="http://xmpp.org/council/">XMPP Council</a><br />Dependencies: XMPP Core, XMPP IM, XEP-0004, XEP-0030, XEP-0060, XEP-0313<br />
                Supersedes: None<br />
                Superseded By: None<br />
            Short Name: MIX<br />
              Source Control: 
                <a class="standardsButton" href="https://github.com/xsf/xeps/blob/master/xep-0369.xml">HTML</a><br />
            This document in other formats: 
                <a class="standardsButton" href="http://xmpp.org/extensions/xep-0369.xml">XML</a> 
                <a class="standardsButton" href="http://xmpp.org/extensions/xep-0369.pdf">PDF</a></p><hr /><a name="appendix-authorinfo" id="appendix-authorinfo"></a><h3>Appendix B: Author Information</h3><div class="indent"><h3>Kevin Smith</h3><p class="indent">
        Email:
        <a href="mailto:kevin.smith@isode.com">kevin.smith@isode.com</a><br />
        JabberID: 
        <a href="xmpp:kevin.smith@isode.com">kevin.smith@isode.com</a><br /></p><h3>Peter Saint-Andre</h3><p class="indent">
        Email:
        <a href="mailto:peter@andyet.net">peter@andyet.net</a><br />
        JabberID: 
        <a href="xmpp:stpeter@stpeter.im">stpeter@stpeter.im</a><br />
        URI: 
        <a href="https://stpeter.im/">https://stpeter.im/</a><br /></p></div><hr /><a name="appendix-legal" id="appendix-legal"></a><h3>Appendix C: Legal Notices</h3><div class="indent"><h4>Copyright</h4>This XMPP Extension Protocol is copyright © 1999 - 2016 by the <a href="http://xmpp.org/">XMPP Standards Foundation</a> (XSF).<h4>Permissions</h4>Permission is hereby granted, free of charge, to any person obtaining a copy of this specification (the "Specification"), to make use of the Specification without restriction, including without limitation the rights to implement the Specification in a software program, deploy the Specification in a network service, and copy, modify, merge, publish, translate, distribute, sublicense, or sell copies of the Specification, and to permit persons to whom the Specification is furnished to do so, subject to the condition that the foregoing copyright notice and this permission notice shall be included in all copies or substantial portions of the Specification. Unless separate permission is granted, modified works that are redistributed shall not contain misleading information regarding the authors, title, number, or publisher of the Specification, and shall not claim endorsement of the modified works by the authors, any organization or project to which the authors belong, or the XMPP Standards Foundation.<h4>Disclaimer of Warranty</h4><span style="font-weight: bold">## NOTE WELL: This Specification is provided on an "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, express or implied, including, without limitation, any warranties or conditions of TITLE, NON-INFRINGEMENT, MERCHANTABILITY, or FITNESS FOR A PARTICULAR PURPOSE. ##</span><h4>Limitation of Liability</h4>In no event and under no legal theory, whether in tort (including negligence), contract, or otherwise, unless required by applicable law (such as deliberate and grossly negligent acts) or agreed to in writing, shall the XMPP Standards Foundation or any author of this Specification be liable for damages, including any direct, indirect, special, incidental, or consequential damages of any character arising from, out of, or in connection with the Specification or the implementation, deployment, or other use of the Specification (including but not limited to damages for loss of goodwill, work stoppage, computer failure or malfunction, or any and all other commercial damages or losses), even if the XMPP Standards Foundation or such author has been advised of the possibility of such damages.<h4>IPR Conformance</h4>This XMPP Extension Protocol has been contributed in full conformance with the XSF's Intellectual Property Rights Policy (a copy of which can be found at &lt;<a href="http://xmpp.org/about-xmpp/xsf/xsf-ipr-policy/">http://xmpp.org/about-xmpp/xsf/xsf-ipr-policy/</a>&gt; or obtained by writing to XMPP Standards Foundation, 1899 Wynkoop Street, Suite 600, Denver, CO 80202 USA).</div><hr /><a name="appendix-xmpp" id="appendix-xmpp"></a><h3>Appendix D: Relation to XMPP</h3><p class="indent">The Extensible Messaging and Presence Protocol (XMPP) is defined in the XMPP Core (RFC 6120) and XMPP IM (RFC 6121) specifications contributed by the XMPP Standards Foundation to the Internet Standards Process, which is managed by the Internet Engineering Task Force in accordance with RFC 2026. Any protocol defined in this document has been developed outside the Internet Standards Process and is to be understood as an extension to XMPP rather than as an evolution, development, or modification of XMPP itself.</p><hr /><a name="appendix-discuss" id="appendix-discuss"></a><h3>Appendix E: Discussion Venue</h3><p class="indent">The primary venue for discussion of XMPP Extension Protocols is the &lt;<a href="http://mail.jabber.org/mailman/listinfo/standards">standards@xmpp.org</a>&gt; discussion list.</p><p class="indent">Discussion on other xmpp.org discussion lists might also be appropriate; see &lt;<a href="http://xmpp.org/about/discuss.shtml">http://xmpp.org/about/discuss.shtml</a>&gt; for a complete list.</p><p class="indent">Errata can be sent to &lt;<a href="mailto:editor@xmpp.org">editor@xmpp.org</a>&gt;.</p><hr /><a name="appendix-conformance" id="appendix-conformance"></a><h3>Appendix F: Requirements Conformance</h3><p class="indent">The following requirements keywords as used in this document are to be interpreted as described in <a href="http://www.ietf.org/rfc/rfc2119.txt">RFC 2119</a>: "MUST", "SHALL", "REQUIRED"; "MUST NOT", "SHALL NOT"; "SHOULD", "RECOMMENDED"; "SHOULD NOT", "NOT RECOMMENDED"; "MAY", "OPTIONAL".</p><hr /><a name="appendix-notes" id="appendix-notes"></a><h3>Appendix G: Notes</h3><div class="indent"><p><a name="nt-idp631872" id="nt-idp631872">1</a>. XEP-0045: Multi-User Chat &lt;<a href="http://xmpp.org/extensions/xep-0045.html">http://xmpp.org/extensions/xep-0045.html</a>&gt;.</p><p><a name="nt-idp642656" id="nt-idp642656">2</a>. XEP-0060: Publish-Subscribe &lt;<a href="http://xmpp.org/extensions/xep-0060.html">http://xmpp.org/extensions/xep-0060.html</a>&gt;.</p><p><a name="nt-idp648432" id="nt-idp648432">3</a>. XEP-0313: Message Archive Management &lt;<a href="http://xmpp.org/extensions/xep-0313.html">http://xmpp.org/extensions/xep-0313.html</a>&gt;.</p><p><a name="nt-idp1518352" id="nt-idp1518352">4</a>. XEP-0289: Federated MUC for Constrained Environments &lt;<a href="http://xmpp.org/extensions/xep-0289.html">http://xmpp.org/extensions/xep-0289.html</a>&gt;.</p><p><a name="nt-idp1522752" id="nt-idp1522752">5</a>. XEP-0030: Service Discovery &lt;<a href="http://xmpp.org/extensions/xep-0030.html">http://xmpp.org/extensions/xep-0030.html</a>&gt;.</p><p><a name="nt-idp1525328" id="nt-idp1525328">6</a>. XEP-0163: Personal Eventing Protocol &lt;<a href="http://xmpp.org/extensions/xep-0163.html">http://xmpp.org/extensions/xep-0163.html</a>&gt;.</p><p><a name="nt-idp1527936" id="nt-idp1527936">7</a>. XEP-0313: Message Archive Management &lt;<a href="http://xmpp.org/extensions/xep-0313.html">http://xmpp.org/extensions/xep-0313.html</a>&gt;.</p><p><a name="nt-idp1535088" id="nt-idp1535088">8</a>. XEP-0060: Publish-Subscribe &lt;<a href="http://xmpp.org/extensions/xep-0060.html">http://xmpp.org/extensions/xep-0060.html</a>&gt;.</p><p><a name="nt-idp1538128" id="nt-idp1538128">9</a>. XEP-0060: Publish-Subscribe &lt;<a href="http://xmpp.org/extensions/xep-0060.html">http://xmpp.org/extensions/xep-0060.html</a>&gt;.</p><p><a name="nt-idp1540560" id="nt-idp1540560">10</a>. XEP-0060: Publish-Subscribe &lt;<a href="http://xmpp.org/extensions/xep-0060.html">http://xmpp.org/extensions/xep-0060.html</a>&gt;.</p><p><a name="nt-idp1542752" id="nt-idp1542752">11</a>. XEP-0045: Multi-User Chat &lt;<a href="http://xmpp.org/extensions/xep-0045.html">http://xmpp.org/extensions/xep-0045.html</a>&gt;.</p><p><a name="nt-idp1554448" id="nt-idp1554448">12</a>. XEP-0030: Service Discovery &lt;<a href="http://xmpp.org/extensions/xep-0030.html">http://xmpp.org/extensions/xep-0030.html</a>&gt;.</p><p><a name="nt-idp1560288" id="nt-idp1560288">13</a>. XEP-0313: Message Archive Management &lt;<a href="http://xmpp.org/extensions/xep-0313.html">http://xmpp.org/extensions/xep-0313.html</a>&gt;.</p><p><a name="nt-idp1562480" id="nt-idp1562480">14</a>. XEP-0060: Publish-Subscribe &lt;<a href="http://xmpp.org/extensions/xep-0060.html">http://xmpp.org/extensions/xep-0060.html</a>&gt;.</p></div><hr /><a name="appendix-revs" id="appendix-revs"></a><h3>Appendix H: Revision History</h3><p>Note: Older versions of this specification might be available at <a href="http://xmpp.org/extensions/attic/">http://xmpp.org/extensions/attic/</a></p><div class="indent"><h4>Version 0.1.1 (2016-03-17)</h4><div class="indent"><p>Fix XML in join example.</p> (XEP Editor (ssw))
    </div><h4>Version 0.1 (2016-01-07)</h4><div class="indent"><p>Initial published version approved by the XMPP Council.</p> (XEP Editor (asw))
    </div><h4>Version 0.0.1 (2015-10-12)</h4><div class="indent"><p>First draft.</p> (kis/psa)
    </div></div><hr /><p>END</p></body></html>
